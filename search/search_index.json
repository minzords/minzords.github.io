{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Administration Syst\u00e8me \u00b6 UNIX (Linux & BSD) Windows Administration R\u00e9seau \u00b6 Cisco D\u00e9veloppement \u00b6 C# Laravel (PHP) DevOps \u00b6 Kubernetes","title":"Administration Syst\u00e8me"},{"location":"#administration-systeme","text":"UNIX (Linux & BSD) Windows","title":"Administration Syst\u00e8me"},{"location":"#administration-reseau","text":"Cisco","title":"Administration R\u00e9seau"},{"location":"#developpement","text":"C# Laravel (PHP)","title":"D\u00e9veloppement"},{"location":"#devops","text":"Kubernetes","title":"DevOps"},{"location":"CSharp/","text":"MAUI \u00b6 Installer MAUI sur Linux Configuration de VSCODE","title":"C#"},{"location":"CSharp/#maui","text":"Installer MAUI sur Linux Configuration de VSCODE","title":"MAUI"},{"location":"Cisco/","text":"Commandes Cisco Reset Switch Cisco IPv6 \u00b6 IPV6 Agr\u00e9gation de lien \u00b6 LACP - Agr\u00e9gation de lien VLAN \u00b6 VLAN Routage inter-VLAN Configuration du VTP EIGRP \u00b6 EIGRP BGP \u00b6 BGP Access-List \u00b6 ACL Nat \u00b6 NAT","title":"Cisco"},{"location":"Cisco/#ipv6","text":"IPV6","title":"IPv6"},{"location":"Cisco/#agregation-de-lien","text":"LACP - Agr\u00e9gation de lien","title":"Agr\u00e9gation de lien"},{"location":"Cisco/#vlan","text":"VLAN Routage inter-VLAN Configuration du VTP","title":"VLAN"},{"location":"Cisco/#eigrp","text":"EIGRP","title":"EIGRP"},{"location":"Cisco/#bgp","text":"BGP","title":"BGP"},{"location":"Cisco/#access-list","text":"ACL","title":"Access-List"},{"location":"Cisco/#nat","text":"NAT","title":"Nat"},{"location":"GIT/","text":"Forker un d\u00e9p\u00f4t Git qui utilise les anciens commits","title":"Git"},{"location":"Javascript/","text":"Memo","title":"Javascript"},{"location":"Kubernetes/","text":"Installation de Kubernetes avec MiniKube Installation un cluster Kubernetes avec Kubeadm","title":"Kubernetes"},{"location":"Laravel/","text":"Cr\u00e9ation d'un projet Laravel Les Bases \u00b6 Le routing Introduction au Vue Introduction au Controller Introduction \u00e0 Blade Configurer une Base de Donn\u00e9e Les Migrations Introduction au factories sur Laravel Introduction \u00e0 l'ORM Eloquent Traitement d'un formulaire avec Laravel Les Middlewares Les relations \u00b6 One To One One To Many Many To Many Fonctionnalit\u00e9s \u00b6 Upload de fichier Les nouveaut\u00e9s de Laravel \u00b6 Laravel 11","title":"Laravel"},{"location":"Laravel/#les-bases","text":"Le routing Introduction au Vue Introduction au Controller Introduction \u00e0 Blade Configurer une Base de Donn\u00e9e Les Migrations Introduction au factories sur Laravel Introduction \u00e0 l'ORM Eloquent Traitement d'un formulaire avec Laravel Les Middlewares","title":"Les Bases"},{"location":"Laravel/#les-relations","text":"One To One One To Many Many To Many","title":"Les relations"},{"location":"Laravel/#fonctionnalites","text":"Upload de fichier","title":"Fonctionnalit\u00e9s"},{"location":"Laravel/#les-nouveautes-de-laravel","text":"Laravel 11","title":"Les nouveaut\u00e9s de Laravel"},{"location":"Symfony/","text":"Twig \u00b6 Utilisation de Twig","title":"Symfony"},{"location":"Symfony/#twig","text":"Utilisation de Twig","title":"Twig"},{"location":"UNIX/","text":"Installation d'un serveur LEMP Creation et mises en place d'une cl\u00e9 SSH Activer le DNS CAA avec Let's Encrypt Ansible \u00b6 Mises \u00e0 jours avec Ansible DNS \u00b6 Mises en place d'un DNS avec Bind Mises en place de DNSSEC sur Bind Docker \u00b6 Installation de Portainer.io Changement du Subnet par d\u00e9faut de Docker Haute Disponibilit\u00e9 \u00b6 Cr\u00e9er un cluster HA avec corosync Cr\u00e9er une IPFailover sur Corosync Redondance sur MySQL HTTPS \u00b6 Cr\u00e9ation de l'Autorit\u00e9 de certification + HTTPS Routage \u00b6 RIP sur Bird VOIP \u00b6 Cluster Asterisk Mises en place d'un routage InterContexte RHEL (Redhat) \u00b6 Cr\u00e9er un d\u00e9p\u00f4t RPM Mandriva \u00b6 Configuration des d\u00e9pots Divers essais \u00b6 Changer l'Init de Debian pour OpenRC","title":"Linux / BSD"},{"location":"UNIX/#ansible","text":"Mises \u00e0 jours avec Ansible","title":"Ansible"},{"location":"UNIX/#dns","text":"Mises en place d'un DNS avec Bind Mises en place de DNSSEC sur Bind","title":"DNS"},{"location":"UNIX/#docker","text":"Installation de Portainer.io Changement du Subnet par d\u00e9faut de Docker","title":"Docker"},{"location":"UNIX/#haute-disponibilite","text":"Cr\u00e9er un cluster HA avec corosync Cr\u00e9er une IPFailover sur Corosync Redondance sur MySQL","title":"Haute Disponibilit\u00e9"},{"location":"UNIX/#https","text":"Cr\u00e9ation de l'Autorit\u00e9 de certification + HTTPS","title":"HTTPS"},{"location":"UNIX/#routage","text":"RIP sur Bird","title":"Routage"},{"location":"UNIX/#voip","text":"Cluster Asterisk Mises en place d'un routage InterContexte","title":"VOIP"},{"location":"UNIX/#rhel-redhat","text":"Cr\u00e9er un d\u00e9p\u00f4t RPM","title":"RHEL (Redhat)"},{"location":"UNIX/#mandriva","text":"Configuration des d\u00e9pots","title":"Mandriva"},{"location":"UNIX/#divers-essais","text":"Changer l'Init de Debian pour OpenRC","title":"Divers essais"},{"location":"Windows/","text":"Commandes R\u00e9seau Installation de Radius","title":"Windows"},{"location":"CSharp/Configuration-VSCODE/","text":"Les extensions \u00b6 C# .NET MAUI .NET Meteor IntelliCode for C# Dev Kit Copilot (pas necessaire, mais pratique) \u00b6 GitHub Copilot GitHub Copilot Chat GitHub Copilot Labs Configuration de VSCODE \u00b6 TODO","title":"Configuration de VSCode pour MAUI"},{"location":"CSharp/Configuration-VSCODE/#les-extensions","text":"C# .NET MAUI .NET Meteor IntelliCode for C# Dev Kit","title":"Les extensions"},{"location":"CSharp/Configuration-VSCODE/#copilot-pas-necessaire-mais-pratique","text":"GitHub Copilot GitHub Copilot Chat GitHub Copilot Labs","title":"Copilot (pas necessaire, mais pratique)"},{"location":"CSharp/Configuration-VSCODE/#configuration-de-vscode","text":"TODO","title":"Configuration de VSCODE"},{"location":"CSharp/Installation-MAUI-Linux/","text":"Installation de C# (Dotnet) \u00b6 Documentation Officiel {.links-list} Installation de MAUI \u00b6 sudo dotnet workload install maui-android --temp-dir=~/.tmp Verification \u00b6 dotnet workload list R\u00e9sultat: [florianb@Archlinux Bureau]$ dotnet workload list ID de la charge de travail install\u00e9e Version de manifeste Source de l\u2019installation -------------------------------------------------------------------------------------------- maui-android 7.0.92/7.0.100 SDK 7.0.100 Utilisez \u00ab recherche de la charge de travail dotnet \u00bb pour rechercher d\u2019autres charges de travail \u00e0 installer. Installation d'OPENJDK 11 de Microsoft (Java) \u00b6 Documentation ici {.links-list} Installation du SDK Android \u00b6 TODO Configuration VSCODE \u00b6 Documentation ici {.links-list}","title":"Installer MAUI sur Linux"},{"location":"CSharp/Installation-MAUI-Linux/#installation-de-c-dotnet","text":"Documentation Officiel {.links-list}","title":"Installation de C# (Dotnet)"},{"location":"CSharp/Installation-MAUI-Linux/#installation-de-maui","text":"sudo dotnet workload install maui-android --temp-dir=~/.tmp","title":"Installation de MAUI"},{"location":"CSharp/Installation-MAUI-Linux/#verification","text":"dotnet workload list R\u00e9sultat: [florianb@Archlinux Bureau]$ dotnet workload list ID de la charge de travail install\u00e9e Version de manifeste Source de l\u2019installation -------------------------------------------------------------------------------------------- maui-android 7.0.92/7.0.100 SDK 7.0.100 Utilisez \u00ab recherche de la charge de travail dotnet \u00bb pour rechercher d\u2019autres charges de travail \u00e0 installer.","title":"Verification"},{"location":"CSharp/Installation-MAUI-Linux/#installation-dopenjdk-11-de-microsoft-java","text":"Documentation ici {.links-list}","title":"Installation d'OPENJDK 11 de Microsoft (Java)"},{"location":"CSharp/Installation-MAUI-Linux/#installation-du-sdk-android","text":"TODO","title":"Installation du SDK Android"},{"location":"CSharp/Installation-MAUI-Linux/#configuration-vscode","text":"Documentation ici {.links-list}","title":"Configuration VSCODE"},{"location":"Cisco/ACL/","text":"ACL num\u00e9rique standard \u00b6 R1(config)# access-list 1 permit 192.168.0.0 0.0.0.255 R1(config)# access-list 1 deny any ACL nomm\u00e9e standard \u00b6 R1(config)# ip access-list standard monACL R1(config-std-nacl)# permit 192.168.0.0 0.0.0.255 R1(config-std-nacl)# deny any ACL num\u00e9rique \u00e9tendue \u00b6 R1(config)# access-list 100 permit tcp any host 192.168.1.100 eq 80 R1(config)# access-list 100 permit icmp 192.168.0.0 0.0.0.255 host 192.168.1.100 ACL nomm\u00e9e \u00e9tendue \u00b6 R1(config)# ip access-list extended monACLextended R1(config-ext-nacl)# permit tcp any host 192.168.1.100 eq 80 R1(config-ext-nacl)# permit icmp 192.168.0.0 0.0.0.255 host 192.168.1.100 Mettre une ACL sur une interface \u00b6 R1(config)# interface fa0/0 R1(config-if)# ip access-group 1 in OU R1(config-if)# ip access-group 1 out Mettre une ACL sur les lignes VTY \u00b6 R1(config)# line vty 0 4 R1(config-if)# access-class 1 in V\u00e9rification des ACLs \u00b6 R1# show access-lists","title":"Access Control List"},{"location":"Cisco/ACL/#acl-numerique-standard","text":"R1(config)# access-list 1 permit 192.168.0.0 0.0.0.255 R1(config)# access-list 1 deny any","title":"ACL num\u00e9rique standard"},{"location":"Cisco/ACL/#acl-nommee-standard","text":"R1(config)# ip access-list standard monACL R1(config-std-nacl)# permit 192.168.0.0 0.0.0.255 R1(config-std-nacl)# deny any","title":"ACL nomm\u00e9e standard"},{"location":"Cisco/ACL/#acl-numerique-etendue","text":"R1(config)# access-list 100 permit tcp any host 192.168.1.100 eq 80 R1(config)# access-list 100 permit icmp 192.168.0.0 0.0.0.255 host 192.168.1.100","title":"ACL num\u00e9rique \u00e9tendue"},{"location":"Cisco/ACL/#acl-nommee-etendue","text":"R1(config)# ip access-list extended monACLextended R1(config-ext-nacl)# permit tcp any host 192.168.1.100 eq 80 R1(config-ext-nacl)# permit icmp 192.168.0.0 0.0.0.255 host 192.168.1.100","title":"ACL nomm\u00e9e \u00e9tendue"},{"location":"Cisco/ACL/#mettre-une-acl-sur-une-interface","text":"R1(config)# interface fa0/0 R1(config-if)# ip access-group 1 in OU R1(config-if)# ip access-group 1 out","title":"Mettre une ACL sur une interface"},{"location":"Cisco/ACL/#mettre-une-acl-sur-les-lignes-vty","text":"R1(config)# line vty 0 4 R1(config-if)# access-class 1 in","title":"Mettre une ACL sur les lignes VTY"},{"location":"Cisco/ACL/#verification-des-acls","text":"R1# show access-lists","title":"V\u00e9rification des ACLs"},{"location":"Cisco/BGP/","text":"Introduction \u00e0 BGP \u00b6 Le protocole BGP standardis\u00e9 dans la RFC 4271, il sert \u00e0 interconnect\u00e9 plusieurs r\u00e9seaux. Pour communiqu\u00e9 BGP \u00e9tablie une connexion sur le port 179 en TCP. Il annonce les nouveaut\u00e9s avec \" ANNOUNCE \" et pour la suppression d'une route avec WITHDRAW . BGP transmet uniquement les nouveaut\u00e9s. Pour un cours plus complet je vous recommande le cours au CNAM de St\u00e9phane Bortzmeyer disponible ICI . Envoyer une route \u00e0 son voisin. \u00b6 ISP1(config)# router bgp 100 ISP1(config-router)# neighbor 172.16.1.2 remote-as 200 ISP1(config-router)# network 192.168.1.0 Donn\u00e9e son num\u00e9ro d'AS avec la commande router BGP suivi du num\u00e9ro de son AS \u00c9tablir une connexion avec son voisin avec neighbor 172.16.1.2 remote-as 200 172.16.1.2 est l'IP pour joindre le routeur du voisin et 200 son num\u00e9ro d'AS. Annoncer un r\u00e9seau avec network et le r\u00e9seau. Mettre une limite de pr\u00e9fixe \u00b6 ISP1(config-router)# neighbor 172.16.1.2 maximum-prefix 5 Dans cet exemple, il y a une limite \u00e0 5 pr\u00e9fixes. Voir la table de routage \u00b6 ISP1# show ip route Les routes BGP sont rep\u00e9r\u00e9s avec la lettre B . Affichage des informations BGP \u00b6 ISP1# show ip bgp","title":"BGP"},{"location":"Cisco/BGP/#introduction-a-bgp","text":"Le protocole BGP standardis\u00e9 dans la RFC 4271, il sert \u00e0 interconnect\u00e9 plusieurs r\u00e9seaux. Pour communiqu\u00e9 BGP \u00e9tablie une connexion sur le port 179 en TCP. Il annonce les nouveaut\u00e9s avec \" ANNOUNCE \" et pour la suppression d'une route avec WITHDRAW . BGP transmet uniquement les nouveaut\u00e9s. Pour un cours plus complet je vous recommande le cours au CNAM de St\u00e9phane Bortzmeyer disponible ICI .","title":"Introduction \u00e0 BGP"},{"location":"Cisco/BGP/#envoyer-une-route-a-son-voisin","text":"ISP1(config)# router bgp 100 ISP1(config-router)# neighbor 172.16.1.2 remote-as 200 ISP1(config-router)# network 192.168.1.0 Donn\u00e9e son num\u00e9ro d'AS avec la commande router BGP suivi du num\u00e9ro de son AS \u00c9tablir une connexion avec son voisin avec neighbor 172.16.1.2 remote-as 200 172.16.1.2 est l'IP pour joindre le routeur du voisin et 200 son num\u00e9ro d'AS. Annoncer un r\u00e9seau avec network et le r\u00e9seau.","title":"Envoyer une route \u00e0 son voisin."},{"location":"Cisco/BGP/#mettre-une-limite-de-prefixe","text":"ISP1(config-router)# neighbor 172.16.1.2 maximum-prefix 5 Dans cet exemple, il y a une limite \u00e0 5 pr\u00e9fixes.","title":"Mettre une limite de pr\u00e9fixe"},{"location":"Cisco/BGP/#voir-la-table-de-routage","text":"ISP1# show ip route Les routes BGP sont rep\u00e9r\u00e9s avec la lettre B .","title":"Voir la table de routage"},{"location":"Cisco/BGP/#affichage-des-informations-bgp","text":"ISP1# show ip bgp","title":"Affichage des informations BGP"},{"location":"Cisco/Commandes/","text":"Commandes utiles pour Cisco \u00b6 RESET \u00b6 Switch# erase nvram: Switch# delete flash:vlan.dat Switch# delete flash:config.text Switch# reload Mettre une banni\u00e8re \u00b6 switch(config)#banner motd !ACCES RESERVE ! Changer le Hostname \u00b6 hostname switch_Minz Cr\u00e9er un utilisateur \u00b6 switch(config)#username admin privilege 15 secret Mdpsecu Mettre un mots de passe \u00b6 enable password Mdpsecu Configurer un utilisateur et un mot de passe pour la console \u00b6 switch(config)#line con 0 switch(config-line)# speed 9600 switch(config-line)#password Mdpsecu switch(config-line)#login local Configurer un utilisateur et un mot de passe pour Telnet \u00b6 switch(config)#line vty 0 15 switch(config-line)# switch(config-line)# password Mdpsecu switch(config-line)#login local Configurer un domaine \u00b6 Switch(config)#ip domain-name minz.local SSH \u00b6 Creation de cl\u00e9 RSA SSH \u00b6 crypto key generate rsa general-keys modulus 1024 Activer SSH \u00b6 ip ssh version 2 Config SSH \u00b6 Switch(config)#ip ssh time-out 60 Switch(config)#ip ssh authentication-retries 3 Ajout d'un compte Root \u00b6 Switch(config)#aaa new-model Switch(config)#aaa authentication login default local D\u00e9sactiver Telnet \u00b6 Switch(config)#line vty 0 2 Switch(config-line)#access-class SSH_ACCESS in Switch(config-line)#login local Switch(config-line)#transport input ssh Switch(config-line)#transport output ssh Switch(config)#line vty 3 15 Chiffrement de ses mots de passe \u00b6 switch(config)# service password-encryption Chiffrement de ses mots de passe en vigen\u00e8re \u00b6 Switch(config)# no enable password Switch(config)#enable secret Mdpsecu Afficher la version \u00b6 Router# show version Routage Statique \u00b6 Router (config)# ip route 172.18.0.0 255.255.0.0 172.17.3.254 172.18.0.0 : le r\u00e9seau, 172.17.3.254 la passerelle Voir la liste de routage \u00b6 Router# show ip route Sauvegardez la configuration \u00b6 Switch#copy running-config startup-config Switch#reload Sauvegardez sur un serveur TFTP \u00b6 copy tftp: running-config","title":"Commandes utiles pour Cisco"},{"location":"Cisco/Commandes/#commandes-utiles-pour-cisco","text":"","title":"Commandes utiles pour Cisco"},{"location":"Cisco/Commandes/#reset","text":"Switch# erase nvram: Switch# delete flash:vlan.dat Switch# delete flash:config.text Switch# reload","title":"RESET"},{"location":"Cisco/Commandes/#mettre-une-banniere","text":"switch(config)#banner motd !ACCES RESERVE !","title":"Mettre une banni\u00e8re"},{"location":"Cisco/Commandes/#changer-le-hostname","text":"hostname switch_Minz","title":"Changer le Hostname"},{"location":"Cisco/Commandes/#creer-un-utilisateur","text":"switch(config)#username admin privilege 15 secret Mdpsecu","title":"Cr\u00e9er un utilisateur"},{"location":"Cisco/Commandes/#mettre-un-mots-de-passe","text":"enable password Mdpsecu","title":"Mettre un mots de passe"},{"location":"Cisco/Commandes/#configurer-un-utilisateur-et-un-mot-de-passe-pour-la-console","text":"switch(config)#line con 0 switch(config-line)# speed 9600 switch(config-line)#password Mdpsecu switch(config-line)#login local","title":"Configurer un utilisateur et un mot de passe pour la console"},{"location":"Cisco/Commandes/#configurer-un-utilisateur-et-un-mot-de-passe-pour-telnet","text":"switch(config)#line vty 0 15 switch(config-line)# switch(config-line)# password Mdpsecu switch(config-line)#login local","title":"Configurer un utilisateur et un mot de passe pour Telnet"},{"location":"Cisco/Commandes/#configurer-un-domaine","text":"Switch(config)#ip domain-name minz.local","title":"Configurer un domaine"},{"location":"Cisco/Commandes/#ssh","text":"","title":"SSH"},{"location":"Cisco/Commandes/#creation-de-cle-rsa-ssh","text":"crypto key generate rsa general-keys modulus 1024","title":"Creation de cl\u00e9 RSA SSH"},{"location":"Cisco/Commandes/#activer-ssh","text":"ip ssh version 2","title":"Activer SSH"},{"location":"Cisco/Commandes/#config-ssh","text":"Switch(config)#ip ssh time-out 60 Switch(config)#ip ssh authentication-retries 3","title":"Config SSH"},{"location":"Cisco/Commandes/#ajout-dun-compte-root","text":"Switch(config)#aaa new-model Switch(config)#aaa authentication login default local","title":"Ajout d'un compte Root"},{"location":"Cisco/Commandes/#desactiver-telnet","text":"Switch(config)#line vty 0 2 Switch(config-line)#access-class SSH_ACCESS in Switch(config-line)#login local Switch(config-line)#transport input ssh Switch(config-line)#transport output ssh Switch(config)#line vty 3 15","title":"D\u00e9sactiver Telnet"},{"location":"Cisco/Commandes/#chiffrement-de-ses-mots-de-passe","text":"switch(config)# service password-encryption","title":"Chiffrement de ses mots de passe"},{"location":"Cisco/Commandes/#chiffrement-de-ses-mots-de-passe-en-vigenere","text":"Switch(config)# no enable password Switch(config)#enable secret Mdpsecu","title":"Chiffrement de ses mots de passe en vigen\u00e8re"},{"location":"Cisco/Commandes/#afficher-la-version","text":"Router# show version","title":"Afficher la version"},{"location":"Cisco/Commandes/#routage-statique","text":"Router (config)# ip route 172.18.0.0 255.255.0.0 172.17.3.254 172.18.0.0 : le r\u00e9seau, 172.17.3.254 la passerelle","title":"Routage Statique"},{"location":"Cisco/Commandes/#voir-la-liste-de-routage","text":"Router# show ip route","title":"Voir la liste de routage"},{"location":"Cisco/Commandes/#sauvegardez-la-configuration","text":"Switch#copy running-config startup-config Switch#reload","title":"Sauvegardez la configuration"},{"location":"Cisco/Commandes/#sauvegardez-sur-un-serveur-tftp","text":"copy tftp: running-config","title":"Sauvegardez sur un serveur TFTP"},{"location":"Cisco/EIGRP/","text":"Mettre en place EIGRP \u00b6 Router(config)# router eigrp 1 Router(config-router)# network 192.168.0.0 0.0.0.255 On met 0.0.0.255 pour avoir le masque 255.255.255.0, c'est le masque invers\u00e9. {.is-warning} Router(config-router)# network 192.168.1.0 0.0.0.255 Router(config-router)# network 192.168.2.252 0.0.0.3 Router(config-router)# no auto-summary no auto-summary permet de d\u00e9sactiver le r\u00e9sum\u00e9 automatique des routes dans la table de routage de l\u2019\u00e9quipement. {.is-info} Router(config-router)## redistribute static Il redistribue la route statique {.is-info} Route statique \u00b6 Router(config)# ip route 0.0.0.0 0.0.0.0 209.165.200.225 Voir la table de routage \u00b6 Router# show ip route","title":"EIGRP"},{"location":"Cisco/EIGRP/#mettre-en-place-eigrp","text":"Router(config)# router eigrp 1 Router(config-router)# network 192.168.0.0 0.0.0.255 On met 0.0.0.255 pour avoir le masque 255.255.255.0, c'est le masque invers\u00e9. {.is-warning} Router(config-router)# network 192.168.1.0 0.0.0.255 Router(config-router)# network 192.168.2.252 0.0.0.3 Router(config-router)# no auto-summary no auto-summary permet de d\u00e9sactiver le r\u00e9sum\u00e9 automatique des routes dans la table de routage de l\u2019\u00e9quipement. {.is-info} Router(config-router)## redistribute static Il redistribue la route statique {.is-info}","title":"Mettre en place EIGRP"},{"location":"Cisco/EIGRP/#route-statique","text":"Router(config)# ip route 0.0.0.0 0.0.0.0 209.165.200.225","title":"Route statique"},{"location":"Cisco/EIGRP/#voir-la-table-de-routage","text":"Router# show ip route","title":"Voir la table de routage"},{"location":"Cisco/IPv6/","text":"Configuration de l'IPv6 \u00b6 Activer l'IPv6 \u00b6 R1(config)# ipv6 unicast-routing Ajouter une adresse local \u00b6 R1(config)# interface serial0/0/0 R1(config-if)# ipv6 address fe80::1 link-local Ajouter une adresse \u00b6 R1(config)# interface serial0/0/1 R1(config-if)# ipv6 address 2001:470:1d35::1/64 Ajouter une adresse eui-64 \u00b6 R1(config)# interface Fa0/0 R1(config-if)# ipv6 address 2001:db8:1:1::/64 eui-64 Avoir l'IPv6 via un tunnel GRE \u00b6 address est le bloc fourni par le fournisseur, source est notre IPv4, destination est l'IPv4 du routeur du fournisseur. interface Tunnel0 no ip address ipv6 enable ipv6 address 2001:470:b259::2/48 tunnel source 192.99.123.50 tunnel destination 70.22.35.32 tunnel mode ipv6ip ipv6 route ::/0 Tunnel0 DHCPv6 \u00b6 R1(config)# ipv6 dhcp pool sansetat R1(config-DHCP)# dns-server 2001:DB8:54:1::53 R1(config)# interface fa0 R1(config-if)# ipv6 address 2001:DB8:54:1:/64 eui-64 R1(config-if)# ipv6 dhcp server sansetat R1(config-if)# ipv6 nd other-config-flag DHCP Relay \u00b6 R1(config-if)#ipv6 dhcp relay destination @IPv6_serveur-DHCP Route \u00b6 R1(config)# ipv6 route ::/0 fc00::1 SHOW IPv6 \u00b6 R1(config)# show ipv6 interface brief","title":"Configuration de l'IPv6"},{"location":"Cisco/IPv6/#configuration-de-lipv6","text":"","title":"Configuration de l'IPv6"},{"location":"Cisco/IPv6/#activer-lipv6","text":"R1(config)# ipv6 unicast-routing","title":"Activer l'IPv6"},{"location":"Cisco/IPv6/#ajouter-une-adresse-local","text":"R1(config)# interface serial0/0/0 R1(config-if)# ipv6 address fe80::1 link-local","title":"Ajouter une adresse local"},{"location":"Cisco/IPv6/#ajouter-une-adresse","text":"R1(config)# interface serial0/0/1 R1(config-if)# ipv6 address 2001:470:1d35::1/64","title":"Ajouter une adresse"},{"location":"Cisco/IPv6/#ajouter-une-adresse-eui-64","text":"R1(config)# interface Fa0/0 R1(config-if)# ipv6 address 2001:db8:1:1::/64 eui-64","title":"Ajouter une adresse eui-64"},{"location":"Cisco/IPv6/#avoir-lipv6-via-un-tunnel-gre","text":"address est le bloc fourni par le fournisseur, source est notre IPv4, destination est l'IPv4 du routeur du fournisseur. interface Tunnel0 no ip address ipv6 enable ipv6 address 2001:470:b259::2/48 tunnel source 192.99.123.50 tunnel destination 70.22.35.32 tunnel mode ipv6ip ipv6 route ::/0 Tunnel0","title":"Avoir l'IPv6 via un tunnel GRE"},{"location":"Cisco/IPv6/#dhcpv6","text":"R1(config)# ipv6 dhcp pool sansetat R1(config-DHCP)# dns-server 2001:DB8:54:1::53 R1(config)# interface fa0 R1(config-if)# ipv6 address 2001:DB8:54:1:/64 eui-64 R1(config-if)# ipv6 dhcp server sansetat R1(config-if)# ipv6 nd other-config-flag","title":"DHCPv6"},{"location":"Cisco/IPv6/#dhcp-relay","text":"R1(config-if)#ipv6 dhcp relay destination @IPv6_serveur-DHCP","title":"DHCP Relay"},{"location":"Cisco/IPv6/#route","text":"R1(config)# ipv6 route ::/0 fc00::1","title":"Route"},{"location":"Cisco/IPv6/#show-ipv6","text":"R1(config)# show ipv6 interface brief","title":"SHOW IPv6"},{"location":"Cisco/LACP/","text":"LACP - Agr\u00e9gation de lien \u00b6 Creation de l'agr\u00e9gation (Trunk) \u00b6 Cr\u00e9ation de l'agr\u00e9gation du port 10 \u00e0 11. Switch(config)#interface range fa0/10-11 Switch(config-if-range)#channel-group 1 mode active Switch(config-if-range)#channel-protocol lacp Autoris\u00e9 le traffic d'un vlan \u00b6 Switch(config)#interface port-channel 1 Switch(config-if-range)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 1 Autorisation du VLAN 1 dans cette exemple. V\u00e9rification de la configuration des ports \u00b6 Switch# show etherchannel 1 summary Voir la bande passante \u00b6 Switch#show interfaces port-channel Suppression de l'agr\u00e9gation (Trunk) \u00b6 Switch(config)#interface range fa0/10-11 Switch(config-if-range)#no switchport mode trunk","title":"LACP - Agr\u00e9gation de lien"},{"location":"Cisco/LACP/#lacp-agregation-de-lien","text":"","title":"LACP - Agr\u00e9gation de lien"},{"location":"Cisco/LACP/#creation-de-lagregation-trunk","text":"Cr\u00e9ation de l'agr\u00e9gation du port 10 \u00e0 11. Switch(config)#interface range fa0/10-11 Switch(config-if-range)#channel-group 1 mode active Switch(config-if-range)#channel-protocol lacp","title":"Creation de l'agr\u00e9gation (Trunk)"},{"location":"Cisco/LACP/#autorise-le-traffic-dun-vlan","text":"Switch(config)#interface port-channel 1 Switch(config-if-range)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 1 Autorisation du VLAN 1 dans cette exemple.","title":"Autoris\u00e9 le traffic d'un vlan"},{"location":"Cisco/LACP/#verification-de-la-configuration-des-ports","text":"Switch# show etherchannel 1 summary","title":"V\u00e9rification de la configuration des ports"},{"location":"Cisco/LACP/#voir-la-bande-passante","text":"Switch#show interfaces port-channel","title":"Voir la bande passante"},{"location":"Cisco/LACP/#suppression-de-lagregation-trunk","text":"Switch(config)#interface range fa0/10-11 Switch(config-if-range)#no switchport mode trunk","title":"Suppression de l'agr\u00e9gation (Trunk)"},{"location":"Cisco/NAT/","text":"Mettre le NAT en inside \u00b6 R1(config)# interface fa0/0 R1(config-if)# ip nat inside Mettre le NAT en outside \u00b6 R1(config)# interface fa0/1 R1(config-if)# ip nat outside Configurer du NAT statique \u00b6 R1(config)# ip nat inside source static 192.168.1.100 201.49.10.30 Cr\u00e9er une Pool d'adresse \u00b6 R1(config)# ip nat pool POOL-NAT-LAN2 201.49.10.17 201.49.10.30 netmask 255.255.255.240 Cr\u00e9e une ACL \u00b6 R1(config)# access-list 1 deny 192.168.1.100 R1(config)#access-list 1 permit 192.168.1.0 0.0.0.255 Configuration du NAT \u00b6 R1(config)#ip nat inside source list 1 pool POOL-NAT-LAN2 R1(config)#ip nat inside source list 1 pool POOL-NAT-LAN2 overload overload : il fait du PAT {.is-info} Redirection d'un PORT vers IP Publique \u00b6 ip nat inside source static tcp 192.168.0.200 80 20.0.0.1 80 Voir les translations NAT \u00b6 R1(config)# show ip nat translations","title":"NAT & PAT"},{"location":"Cisco/NAT/#mettre-le-nat-en-inside","text":"R1(config)# interface fa0/0 R1(config-if)# ip nat inside","title":"Mettre le NAT en inside"},{"location":"Cisco/NAT/#mettre-le-nat-en-outside","text":"R1(config)# interface fa0/1 R1(config-if)# ip nat outside","title":"Mettre le NAT en outside"},{"location":"Cisco/NAT/#configurer-du-nat-statique","text":"R1(config)# ip nat inside source static 192.168.1.100 201.49.10.30","title":"Configurer du NAT statique"},{"location":"Cisco/NAT/#creer-une-pool-dadresse","text":"R1(config)# ip nat pool POOL-NAT-LAN2 201.49.10.17 201.49.10.30 netmask 255.255.255.240","title":"Cr\u00e9er une Pool d'adresse"},{"location":"Cisco/NAT/#cree-une-acl","text":"R1(config)# access-list 1 deny 192.168.1.100 R1(config)#access-list 1 permit 192.168.1.0 0.0.0.255","title":"Cr\u00e9e une ACL"},{"location":"Cisco/NAT/#configuration-du-nat","text":"R1(config)#ip nat inside source list 1 pool POOL-NAT-LAN2 R1(config)#ip nat inside source list 1 pool POOL-NAT-LAN2 overload overload : il fait du PAT {.is-info}","title":"Configuration du NAT"},{"location":"Cisco/NAT/#redirection-dun-port-vers-ip-publique","text":"ip nat inside source static tcp 192.168.0.200 80 20.0.0.1 80","title":"Redirection d'un PORT vers IP Publique"},{"location":"Cisco/NAT/#voir-les-translations-nat","text":"R1(config)# show ip nat translations","title":"Voir les translations NAT"},{"location":"Cisco/Reset-Switch/","text":"Reset d'un switch Cisco \u00b6 R\u00e9initialisation rapide du commutateur \u00b6 Pour r\u00e9initialiser le commutateur, appuyez sur le bouton Mode et maintenez-le enfonc\u00e9. Apr\u00e8s environ 3 secondes, les DEL du commutateur commencent \u00e0 clignoter. Continuez \u00e0 maintenir le bouton Mode enfonc\u00e9. Les DEL cessent de clignoter apr\u00e8s 7 secondes suppl\u00e9mentaires, puis le commutateur red\u00e9marre. Rel\u00e2chez le bouton. Le commutateur agit dor\u00e9navant comme s'il n'\u00e9tait pas configur\u00e9. R\u00e9initialisation classique \u00b6 switch>en switch# erase nvram: switch# delete flash:vlan.dat switch# reload","title":"Reset d'un switch Cisco"},{"location":"Cisco/Reset-Switch/#reset-dun-switch-cisco","text":"","title":"Reset d'un switch Cisco"},{"location":"Cisco/Reset-Switch/#reinitialisation-rapide-du-commutateur","text":"Pour r\u00e9initialiser le commutateur, appuyez sur le bouton Mode et maintenez-le enfonc\u00e9. Apr\u00e8s environ 3 secondes, les DEL du commutateur commencent \u00e0 clignoter. Continuez \u00e0 maintenir le bouton Mode enfonc\u00e9. Les DEL cessent de clignoter apr\u00e8s 7 secondes suppl\u00e9mentaires, puis le commutateur red\u00e9marre. Rel\u00e2chez le bouton. Le commutateur agit dor\u00e9navant comme s'il n'\u00e9tait pas configur\u00e9.","title":"R\u00e9initialisation rapide du commutateur"},{"location":"Cisco/Reset-Switch/#reinitialisation-classique","text":"switch>en switch# erase nvram: switch# delete flash:vlan.dat switch# reload","title":"R\u00e9initialisation classique"},{"location":"Cisco/Routage-InterVLAN/","text":"Routage inter-VLAN \u00b6 Config des VLANS \u00b6 Switch(config)#vlan 20 Switch(config-vlan)#name vlan_20 Switch(config-vlan)#vlan 30 Switch(config-vlan)#name vlan_30 Switch(config-vlan)#vlan 99 Switch(config-vlan)#name Native Autoris\u00e9 certains VLANS et changement du VLAN par d\u00e9faut \u00b6 Switch(config)#interface fa0/1 Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 20,30,99 Switch(config-if)# switchport trunk native vlan 99 Switch(config-if)#no shutdown Allocation du VLAN \u00b6 Switch(config)#interface fa0/2 ( d\u00e9pend du c\u00e2blage bien sur ) Switch(config-if)#switchport access vlan 20 Switch(config-if)#no shutdown Switch(config-if)#exit Switch(config)#interface fa0/3 Switch(config-if)#switchport access vlan 30 Switch(config-if)#no shutdown Config du Routeur \u00b6 Router#configuration terminal Router(config)#interface fa0/0 Router(config-if)#no shutdown Pour le VLAN 20 Router(config)#interface fa0/0.20 Router(config-subif)#encapsulation dot1Q 20 Router(config-subif)#ip address 192.168.20.254 255.255.255.0 Router(config-subif)#no shutdown Pour le VLAN 30 Router(config)#interface fa0/0.30 Router(config-subif)#encapsulation dot1Q 30 Router(config-subif)#ip address 192.168.30.254 255.255.255.0 Router(config-subif)#no shutdown Encapsulation dot1q \u00b6 Switch(config)#interface fa0/3 Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 20,30,99 Switch(config-if)# switchport trunk native vlan 99 Switch(config-if)#no shutdown","title":"Routage inter-VLAN"},{"location":"Cisco/Routage-InterVLAN/#routage-inter-vlan","text":"","title":"Routage inter-VLAN"},{"location":"Cisco/Routage-InterVLAN/#config-des-vlans","text":"Switch(config)#vlan 20 Switch(config-vlan)#name vlan_20 Switch(config-vlan)#vlan 30 Switch(config-vlan)#name vlan_30 Switch(config-vlan)#vlan 99 Switch(config-vlan)#name Native","title":"Config des VLANS"},{"location":"Cisco/Routage-InterVLAN/#autorise-certains-vlans-et-changement-du-vlan-par-defaut","text":"Switch(config)#interface fa0/1 Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 20,30,99 Switch(config-if)# switchport trunk native vlan 99 Switch(config-if)#no shutdown","title":"Autoris\u00e9 certains VLANS et changement du VLAN par d\u00e9faut"},{"location":"Cisco/Routage-InterVLAN/#allocation-du-vlan","text":"Switch(config)#interface fa0/2 ( d\u00e9pend du c\u00e2blage bien sur ) Switch(config-if)#switchport access vlan 20 Switch(config-if)#no shutdown Switch(config-if)#exit Switch(config)#interface fa0/3 Switch(config-if)#switchport access vlan 30 Switch(config-if)#no shutdown","title":"Allocation du VLAN"},{"location":"Cisco/Routage-InterVLAN/#config-du-routeur","text":"Router#configuration terminal Router(config)#interface fa0/0 Router(config-if)#no shutdown Pour le VLAN 20 Router(config)#interface fa0/0.20 Router(config-subif)#encapsulation dot1Q 20 Router(config-subif)#ip address 192.168.20.254 255.255.255.0 Router(config-subif)#no shutdown Pour le VLAN 30 Router(config)#interface fa0/0.30 Router(config-subif)#encapsulation dot1Q 30 Router(config-subif)#ip address 192.168.30.254 255.255.255.0 Router(config-subif)#no shutdown","title":"Config du Routeur"},{"location":"Cisco/Routage-InterVLAN/#encapsulation-dot1q","text":"Switch(config)#interface fa0/3 Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 20,30,99 Switch(config-if)# switchport trunk native vlan 99 Switch(config-if)#no shutdown","title":"Encapsulation dot1q"},{"location":"Cisco/VLAN/","text":"Les VLAN \u00b6 Creation du VLAN \u00b6 switch(conf)# vlan 2 Switch(config-vlan)# name Production Affectation \u00b6 switch(conf)# interface fa0/1 Switch(config-if)# switchport mode access Switch(config-if)# switchport access vlan 2 Avec un range \u00b6 switch(conf)# interface range fa0/1-6 Switch(config-if)# switchport mode access Switch(config-if)# switchport access vlan 2 D\u00e9finir le VLAN 2 (Production) \u00b6 switch(conf)# vlan 2 switch(conf-vlan)# name Production switch(conf-vlan)# exit Attribution d'une IP sur le VLAN \u00b6 switch(config)#int vlan 2 switch(config-if)#ip address 10.0.0.2 255.0.0.0 switch(config-if)#no shutdown Rattacher le port fa0/1 au vlan 2 \u00b6 switch(conf)# interface fa0/1 switch(conf-if)# switchport mode access switch(conf-if)# switchport access vlan 2 Rattacher le port fa0/5 \u00e0 fa0/10 au vlan 2 \u00b6 switch(conf)# interface range fa0/5 switch(conf-if-range)# switchport mode access switch(conf-if-range)# switchport access vlan 2","title":"Les VLAN"},{"location":"Cisco/VLAN/#les-vlan","text":"","title":"Les VLAN"},{"location":"Cisco/VLAN/#creation-du-vlan","text":"switch(conf)# vlan 2 Switch(config-vlan)# name Production","title":"Creation du VLAN"},{"location":"Cisco/VLAN/#affectation","text":"switch(conf)# interface fa0/1 Switch(config-if)# switchport mode access Switch(config-if)# switchport access vlan 2","title":"Affectation"},{"location":"Cisco/VLAN/#avec-un-range","text":"switch(conf)# interface range fa0/1-6 Switch(config-if)# switchport mode access Switch(config-if)# switchport access vlan 2","title":"Avec un range"},{"location":"Cisco/VLAN/#definir-le-vlan-2-production","text":"switch(conf)# vlan 2 switch(conf-vlan)# name Production switch(conf-vlan)# exit","title":"D\u00e9finir le VLAN 2 (Production)"},{"location":"Cisco/VLAN/#attribution-dune-ip-sur-le-vlan","text":"switch(config)#int vlan 2 switch(config-if)#ip address 10.0.0.2 255.0.0.0 switch(config-if)#no shutdown","title":"Attribution d'une IP sur le VLAN"},{"location":"Cisco/VLAN/#rattacher-le-port-fa01-au-vlan-2","text":"switch(conf)# interface fa0/1 switch(conf-if)# switchport mode access switch(conf-if)# switchport access vlan 2","title":"Rattacher le port fa0/1 au vlan 2"},{"location":"Cisco/VLAN/#rattacher-le-port-fa05-a-fa010-au-vlan-2","text":"switch(conf)# interface range fa0/5 switch(conf-if-range)# switchport mode access switch(conf-if-range)# switchport access vlan 2","title":"Rattacher le port fa0/5 \u00e0 fa0/10 au vlan 2"},{"location":"Cisco/VTP/","text":"Configuration du VTP \u00b6 Mode serveur \u00b6 Le domaine: server(config)# vtp domain testVTP Definir le mode: server(config)# vtp mode server Mettre un mots de passe (optionnel) server(config)# VTP password azerty Mode client \u00b6 Le domaine: server(config)# vtp domain testVTP Definir le mode: client(config)# vtp mode client client(config)# vtp mode transparent Mettre un mots de passe (optionnel) client (config)#vtp password azerty Verification de la configuration \u00b6 server# show vtp status Changement de la version \u00b6 vtp version 2 Configuration du Protocole DTP \u00b6 Switch_A(config)# interface fastethernet 0/1 Switch_A(config-if)# shutdown Switch_A(config-if)# switchport mode trunk Switch_A(config-if)# switchport nonegotiate Switch_A(config-if)# no shutdown","title":"Configuration du VTP"},{"location":"Cisco/VTP/#configuration-du-vtp","text":"","title":"Configuration du VTP"},{"location":"Cisco/VTP/#mode-serveur","text":"Le domaine: server(config)# vtp domain testVTP Definir le mode: server(config)# vtp mode server Mettre un mots de passe (optionnel) server(config)# VTP password azerty","title":"Mode serveur"},{"location":"Cisco/VTP/#mode-client","text":"Le domaine: server(config)# vtp domain testVTP Definir le mode: client(config)# vtp mode client client(config)# vtp mode transparent Mettre un mots de passe (optionnel) client (config)#vtp password azerty","title":"Mode client"},{"location":"Cisco/VTP/#verification-de-la-configuration","text":"server# show vtp status","title":"Verification de la configuration"},{"location":"Cisco/VTP/#changement-de-la-version","text":"vtp version 2","title":"Changement de la version"},{"location":"Cisco/VTP/#configuration-du-protocole-dtp","text":"Switch_A(config)# interface fastethernet 0/1 Switch_A(config-if)# shutdown Switch_A(config-if)# switchport mode trunk Switch_A(config-if)# switchport nonegotiate Switch_A(config-if)# no shutdown","title":"Configuration du Protocole DTP"},{"location":"GIT/Fork-Ancien-Commit/","text":"Cloner le depot source \u00b6 git clone https://github.com/pluginsGLPI/fields -b 1.13.1 Creer la nouvelle branche GIT \u00b6 git switch -c main Changer son UPSTREAM \u00b6 git remote set-url origin git@github.com:minzords/itsm-plugin_fields.git Resultat \u00b6 [florianb@ITSM-NG fields]$ git remote -v origin git@github.com:minzords/itsm-plugin_fields.git (fetch) origin git@github.com:minzords/itsm-plugin_fields.git (push) Envoyer la branche sur le depot GIT distant \u00b6 git push --set-upstream origin main","title":"Forker un d\u00e9p\u00f4t Git en utilisant les anciens commits"},{"location":"GIT/Fork-Ancien-Commit/#cloner-le-depot-source","text":"git clone https://github.com/pluginsGLPI/fields -b 1.13.1","title":"Cloner le depot source"},{"location":"GIT/Fork-Ancien-Commit/#creer-la-nouvelle-branche-git","text":"git switch -c main","title":"Creer la nouvelle branche GIT"},{"location":"GIT/Fork-Ancien-Commit/#changer-son-upstream","text":"git remote set-url origin git@github.com:minzords/itsm-plugin_fields.git","title":"Changer son UPSTREAM"},{"location":"GIT/Fork-Ancien-Commit/#resultat","text":"[florianb@ITSM-NG fields]$ git remote -v origin git@github.com:minzords/itsm-plugin_fields.git (fetch) origin git@github.com:minzords/itsm-plugin_fields.git (push)","title":"Resultat"},{"location":"GIT/Fork-Ancien-Commit/#envoyer-la-branche-sur-le-depot-git-distant","text":"git push --set-upstream origin main","title":"Envoyer la branche sur le depot GIT distant"},{"location":"JavaScript/Memo/","text":"Les variables \u00b6 // D\u00e9claration de la variable a let a = 1 // R\u00e9affectation de la variable a = 66 Les contantes \u00b6 const NOM = \"Le Nom\" Utilisation de l'objet \u00b6 let distribution = { nom: \"ArchLinux\", version: \"rolling\", kernel: 5.1, } Ajouter une propri\u00e9t\u00e9 \u00b6 distribution.gespaquet = \"pacman\" Utilisation des tableaux \u00b6 // D\u00e9claration du tableau distro let distro = [\"arch\", \"debian\", \"gentoo\", \"lfs\"]; Les op\u00e9rateurs de comparaison \u00b6 signe operateur < inf\u00e9rieur \u00e0 > sup\u00e9rieur \u00e0 === \u00e9gal \u00e0 !== diff\u00e9rent de >= sup\u00e9rieur ou \u00e9gal \u00e0","title":"M\u00e9mo JS"},{"location":"JavaScript/Memo/#les-variables","text":"// D\u00e9claration de la variable a let a = 1 // R\u00e9affectation de la variable a = 66","title":"Les variables"},{"location":"JavaScript/Memo/#les-contantes","text":"const NOM = \"Le Nom\"","title":"Les contantes"},{"location":"JavaScript/Memo/#utilisation-de-lobjet","text":"let distribution = { nom: \"ArchLinux\", version: \"rolling\", kernel: 5.1, }","title":"Utilisation de l'objet"},{"location":"JavaScript/Memo/#ajouter-une-propriete","text":"distribution.gespaquet = \"pacman\"","title":"Ajouter une propri\u00e9t\u00e9"},{"location":"JavaScript/Memo/#utilisation-des-tableaux","text":"// D\u00e9claration du tableau distro let distro = [\"arch\", \"debian\", \"gentoo\", \"lfs\"];","title":"Utilisation des tableaux"},{"location":"JavaScript/Memo/#les-operateurs-de-comparaison","text":"signe operateur < inf\u00e9rieur \u00e0 > sup\u00e9rieur \u00e0 === \u00e9gal \u00e0 !== diff\u00e9rent de >= sup\u00e9rieur ou \u00e9gal \u00e0","title":"Les op\u00e9rateurs de comparaison"},{"location":"Kubernetes/Installation-Kubeadm/","text":"Installation de Kubernetes \u00b6 sudo apt-get install -y apt-transport-https ca-certificates curl gnupg curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.28/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.28/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list sudo apt-get update sudo apt-get install -y kubelet kubeadm kubectl sudo apt-mark hold kubelet kubeadm kubectl sudo tee /etc/modules-load.d/k8s.conf <<EOF overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter sudo tee /etc/sysctl.d/kubernetes.conf<<EOF net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 net.ipv4.ip_forward = 1 EOF sudo sysctl --system Installation de Containerd \u00b6 curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg echo \\ \"deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\ \"$(. /etc/os-release && echo \"$VERSION_CODENAME\")\" stable\" | \\ sudo tee /etc/apt/sources.list.d/docker.list > /dev/null sudo apt-get update sudo apt install -y containerd.io sudo mkdir -p /etc/containerd containerd config default | sudo tee /etc/containerd/config.toml sudo systemctl restart containerd sudo systemctl enable containerd Ininitialisation du Control Plane \u00b6 kubeadm init \\ --pod-network-cidr=192.168.89.0/16 192.168.89.0 sera le r\u00e9seau local des conteneurs. Gestion du reseau avec flannel \u00b6 wget https://raw.githubusercontent.com/flannel-io/flannel/master/Documentation/kube-flannel.yml vi kube-flannel.yml Et modifier le champ Network pour indiquer le r\u00e9seau local dans notre exemple: 192.168.89.0/16 kubectl apply -f kube-flannel.yml Mettre en place l'autocompletion \u00b6 apt install bash-completion echo \"source <(kubectl completion bash)\" >> ~/.bashrc source ~/.bashrc Integrer un noeud au cluster \u00b6 kubeadm join 10.0.2.100:6443 --token hpr49r.v40bgx8z06gk4itf --discovery-token-ca-cert-hash sha256:f95f3c004c9757265e395b68654c66ce9cbba22eb2129ebde2f2b0c29107f41a Les param\u00e8tres pour rejoindre le Control Plane a \u00e9t\u00e9 donn\u00e9 au moment de l'initialisation du Control Plane. Sources: computingforgeeks","title":"Installer un cluster Kubernetes"},{"location":"Kubernetes/Installation-Kubeadm/#installation-de-kubernetes","text":"sudo apt-get install -y apt-transport-https ca-certificates curl gnupg curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.28/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.28/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list sudo apt-get update sudo apt-get install -y kubelet kubeadm kubectl sudo apt-mark hold kubelet kubeadm kubectl sudo tee /etc/modules-load.d/k8s.conf <<EOF overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter sudo tee /etc/sysctl.d/kubernetes.conf<<EOF net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 net.ipv4.ip_forward = 1 EOF sudo sysctl --system","title":"Installation de Kubernetes"},{"location":"Kubernetes/Installation-Kubeadm/#installation-de-containerd","text":"curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg echo \\ \"deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\ \"$(. /etc/os-release && echo \"$VERSION_CODENAME\")\" stable\" | \\ sudo tee /etc/apt/sources.list.d/docker.list > /dev/null sudo apt-get update sudo apt install -y containerd.io sudo mkdir -p /etc/containerd containerd config default | sudo tee /etc/containerd/config.toml sudo systemctl restart containerd sudo systemctl enable containerd","title":"Installation de Containerd"},{"location":"Kubernetes/Installation-Kubeadm/#ininitialisation-du-control-plane","text":"kubeadm init \\ --pod-network-cidr=192.168.89.0/16 192.168.89.0 sera le r\u00e9seau local des conteneurs.","title":"Ininitialisation du Control Plane"},{"location":"Kubernetes/Installation-Kubeadm/#gestion-du-reseau-avec-flannel","text":"wget https://raw.githubusercontent.com/flannel-io/flannel/master/Documentation/kube-flannel.yml vi kube-flannel.yml Et modifier le champ Network pour indiquer le r\u00e9seau local dans notre exemple: 192.168.89.0/16 kubectl apply -f kube-flannel.yml","title":"Gestion du reseau avec flannel"},{"location":"Kubernetes/Installation-Kubeadm/#mettre-en-place-lautocompletion","text":"apt install bash-completion echo \"source <(kubectl completion bash)\" >> ~/.bashrc source ~/.bashrc","title":"Mettre en place l'autocompletion"},{"location":"Kubernetes/Installation-Kubeadm/#integrer-un-noeud-au-cluster","text":"kubeadm join 10.0.2.100:6443 --token hpr49r.v40bgx8z06gk4itf --discovery-token-ca-cert-hash sha256:f95f3c004c9757265e395b68654c66ce9cbba22eb2129ebde2f2b0c29107f41a Les param\u00e8tres pour rejoindre le Control Plane a \u00e9t\u00e9 donn\u00e9 au moment de l'initialisation du Control Plane. Sources: computingforgeeks","title":"Integrer un noeud au cluster"},{"location":"Kubernetes/Installation-Minikube/","text":"Installation de Podman et runc \u00b6 dnf install podman runc systemctl enable --now podman Installation de l'outil \u00b6 curl https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 -o /usr/local/bin/minikube chmod +x /usr/local/bin/minikube Patch a faire en root \u00b6 loginctl enable-linger 1000 Creation de l'utilisateur kube \u00b6 adduser podman Passer sur l'utilisation standard \u00b6 su - podman Activer l'autocompletion \u00b6 echo 'alias kubectl=\"minikube kubectl --\"' >> ~/.bashrc && source .bashrc Installer minikube \u00b6 minikube config set rootless true minikube start --driver=podman --container-runtime=cri-o (Optionnel) Activer le Panneau de configuration web \u00b6 minikube dashboard","title":"Installation de Kubernetes avec MiniKube"},{"location":"Kubernetes/Installation-Minikube/#installation-de-podman-et-runc","text":"dnf install podman runc systemctl enable --now podman","title":"Installation de Podman et runc"},{"location":"Kubernetes/Installation-Minikube/#installation-de-loutil","text":"curl https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 -o /usr/local/bin/minikube chmod +x /usr/local/bin/minikube","title":"Installation de l'outil"},{"location":"Kubernetes/Installation-Minikube/#patch-a-faire-en-root","text":"loginctl enable-linger 1000","title":"Patch a faire en root"},{"location":"Kubernetes/Installation-Minikube/#creation-de-lutilisateur-kube","text":"adduser podman","title":"Creation de l'utilisateur kube"},{"location":"Kubernetes/Installation-Minikube/#passer-sur-lutilisation-standard","text":"su - podman","title":"Passer sur l'utilisation standard"},{"location":"Kubernetes/Installation-Minikube/#activer-lautocompletion","text":"echo 'alias kubectl=\"minikube kubectl --\"' >> ~/.bashrc && source .bashrc","title":"Activer l'autocompletion"},{"location":"Kubernetes/Installation-Minikube/#installer-minikube","text":"minikube config set rootless true minikube start --driver=podman --container-runtime=cri-o","title":"Installer minikube"},{"location":"Kubernetes/Installation-Minikube/#optionnel-activer-le-panneau-de-configuration-web","text":"minikube dashboard","title":"(Optionnel) Activer le Panneau de configuration web"},{"location":"Kubernetes/Notes/","text":"Cr\u00e9er un d\u00e9ploiement \u00b6 kubectl create deployment serveur-nginx --image nginx Dans cet exemple, on cr\u00e9e le d\u00e9ploiement serveur-nginx qui utilise l'image docker nginx. Cr\u00e9er une redirection de port \u00b6 kubectl create service serveur-nginx --image nginx Available Commands: | Commandes | Description | |--------------|--------------------------------| | clusterip | Create a ClusterIP service | | externalname | Create an ExternalName service | | loadbalancer | Create a LoadBalancer service | | nodeport | Create a NodePort service | Afficher les m\u00e9tadonn\u00e9es d'un d\u00e9ploiement \u00b6 kubectl describe deploy serveur-nginx Afficher les services \u00b6 kubectl get services Mettre en place de scaling (replication + Round-robin) \u00b6 kubectl scale deploy serveur-nginx --replicas=2 Scale automatique \u00b6 kubectl autoscale deploy serveur-nginx --min=2 --max=20 Il y aura donc 2 pods au d\u00e9part et plus les pods seront utilis\u00e9s, plus, il va cr\u00e9er de pods. Exporter son deploiement en YAML \u00b6 kubectl get deploy serveur-nginx -o yaml > serveur-nginx.yaml Appliquer un D\u00e9ploiement \u00b6 kubectl apply -f serveur-nginx.yaml Afficher les versions des API \u00b6 kubectl api-versions Afficher le Manuel/Explication d'une commande \u00b6 kubectl explain services","title":"Note - Commande Kubernetes"},{"location":"Kubernetes/Notes/#creer-un-deploiement","text":"kubectl create deployment serveur-nginx --image nginx Dans cet exemple, on cr\u00e9e le d\u00e9ploiement serveur-nginx qui utilise l'image docker nginx.","title":"Cr\u00e9er un d\u00e9ploiement"},{"location":"Kubernetes/Notes/#creer-une-redirection-de-port","text":"kubectl create service serveur-nginx --image nginx Available Commands: | Commandes | Description | |--------------|--------------------------------| | clusterip | Create a ClusterIP service | | externalname | Create an ExternalName service | | loadbalancer | Create a LoadBalancer service | | nodeport | Create a NodePort service |","title":"Cr\u00e9er une redirection de port"},{"location":"Kubernetes/Notes/#afficher-les-metadonnees-dun-deploiement","text":"kubectl describe deploy serveur-nginx","title":"Afficher les m\u00e9tadonn\u00e9es d'un d\u00e9ploiement"},{"location":"Kubernetes/Notes/#afficher-les-services","text":"kubectl get services","title":"Afficher les services"},{"location":"Kubernetes/Notes/#mettre-en-place-de-scaling-replication-round-robin","text":"kubectl scale deploy serveur-nginx --replicas=2","title":"Mettre en place de scaling (replication + Round-robin)"},{"location":"Kubernetes/Notes/#scale-automatique","text":"kubectl autoscale deploy serveur-nginx --min=2 --max=20 Il y aura donc 2 pods au d\u00e9part et plus les pods seront utilis\u00e9s, plus, il va cr\u00e9er de pods.","title":"Scale automatique"},{"location":"Kubernetes/Notes/#exporter-son-deploiement-en-yaml","text":"kubectl get deploy serveur-nginx -o yaml > serveur-nginx.yaml","title":"Exporter son deploiement en YAML"},{"location":"Kubernetes/Notes/#appliquer-un-deploiement","text":"kubectl apply -f serveur-nginx.yaml","title":"Appliquer un D\u00e9ploiement"},{"location":"Kubernetes/Notes/#afficher-les-versions-des-api","text":"kubectl api-versions","title":"Afficher les versions des API"},{"location":"Kubernetes/Notes/#afficher-le-manuelexplication-dune-commande","text":"kubectl explain services","title":"Afficher le Manuel/Explication d'une commande"},{"location":"Laravel/11/","text":"Activer les routes API \u00b6 php artisan install:api Activer les routes du Broadcasting \u00b6 php artisan install:broadcasting D\u00e9finir de nouvelle commande artisan \u00b6 C'est a faire dans routes/console.php . Support \u00b6 PHP Sortie Corrections de bugs jusqu'au Correctifs de s\u00e9curit\u00e9 jusqu'au 8.2 T1 2024 5 ao\u00fbt 2025 3 f\u00e9vrier 2026","title":"Changement sur Laravel 11"},{"location":"Laravel/11/#activer-les-routes-api","text":"php artisan install:api","title":"Activer les routes API"},{"location":"Laravel/11/#activer-les-routes-du-broadcasting","text":"php artisan install:broadcasting","title":"Activer les routes du Broadcasting"},{"location":"Laravel/11/#definir-de-nouvelle-commande-artisan","text":"C'est a faire dans routes/console.php .","title":"D\u00e9finir de nouvelle commande artisan"},{"location":"Laravel/11/#support","text":"PHP Sortie Corrections de bugs jusqu'au Correctifs de s\u00e9curit\u00e9 jusqu'au 8.2 T1 2024 5 ao\u00fbt 2025 3 f\u00e9vrier 2026","title":"Support"},{"location":"Laravel/Blade/","text":"S\u00e9paration du contenu de la vue \u00b6 Il est souvent tr\u00e8s pratique de mettre dans un fichier s\u00e9parer certains \u00e9l\u00e9ments qui ne changent jamais comme la navbar et le footer, et de simplement inclure ce fichier sur chaque page. Dans cet exemple, je vais cr\u00e9er un sous dossier dans views qui se nomme layouts qui va contenir les pages de base \u00e0 inclure. Cr\u00e9ation de la page de base qui sera inclus \u00b6 Le fichier se nomme app.blade.php (resources/views/layouts/app.blade.php) <!DOCTYPE html> <html lang=\"fr\"> <head> <meta charset=\"UTF-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <title>{{ $title}} | Laravel</title> </head> <body> @yield ('content') </body> </html> @yield ('content') va definir l'endroit o\u00f9 l'on va injecter le contenu de la section 'content' Cr\u00e9ation de la page qui va inclure la base \u00b6 Voici le contenu de la page accueil (resources/views/accueil.blade.php). @extends ('layouts.app') @section ('content') <h1>{{ $title }}</h1> @endsection @extends ('layouts.app') : on inclut la vue layouts/app.blade.php. @section ('content') : On d\u00e9finit la section content qui est le contenu qui change de la vue app.blade.php. @endsection : fin de la section content. Inclure une vue dans la vue de base. \u00b6 <body> @include ('partials.navbar') @yield ('content') </body> @include ('partials.navbar') : va inclure la vue layouts/partials/navbar.blade.php Les conditions de base \u00b6 Le IF \u00b6 @if (count($records) === 1) Cas 1 @elseif (count($records) > 1) Cas 2 @else Cas 3 @endif Le Switch \u00b6 @switch($i) @case(1) First case... @break @case(2) Second case... @break @default Default case... @endswitch Le Foreach \u00b6 @foreach ($users as $user) <li>{{ $user->name }}</li> @endforeach Options disponibles \u00b6 @continue($user->type == 1) @break($user->number == 5) Le For \u00b6 @for ($i = 0; $i < 10; $i++) The current value is {{ $i }} @endfor Le while \u00b6 @while (true) <p>I'm looping forever.</p> @endwhile","title":"Introduction \u00e0 Blade"},{"location":"Laravel/Blade/#separation-du-contenu-de-la-vue","text":"Il est souvent tr\u00e8s pratique de mettre dans un fichier s\u00e9parer certains \u00e9l\u00e9ments qui ne changent jamais comme la navbar et le footer, et de simplement inclure ce fichier sur chaque page. Dans cet exemple, je vais cr\u00e9er un sous dossier dans views qui se nomme layouts qui va contenir les pages de base \u00e0 inclure.","title":"S\u00e9paration du contenu de la vue"},{"location":"Laravel/Blade/#creation-de-la-page-de-base-qui-sera-inclus","text":"Le fichier se nomme app.blade.php (resources/views/layouts/app.blade.php) <!DOCTYPE html> <html lang=\"fr\"> <head> <meta charset=\"UTF-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <title>{{ $title}} | Laravel</title> </head> <body> @yield ('content') </body> </html> @yield ('content') va definir l'endroit o\u00f9 l'on va injecter le contenu de la section 'content'","title":"Cr\u00e9ation de la page de base qui sera inclus"},{"location":"Laravel/Blade/#creation-de-la-page-qui-va-inclure-la-base","text":"Voici le contenu de la page accueil (resources/views/accueil.blade.php). @extends ('layouts.app') @section ('content') <h1>{{ $title }}</h1> @endsection @extends ('layouts.app') : on inclut la vue layouts/app.blade.php. @section ('content') : On d\u00e9finit la section content qui est le contenu qui change de la vue app.blade.php. @endsection : fin de la section content.","title":"Cr\u00e9ation de la page qui va inclure la base"},{"location":"Laravel/Blade/#inclure-une-vue-dans-la-vue-de-base","text":"<body> @include ('partials.navbar') @yield ('content') </body> @include ('partials.navbar') : va inclure la vue layouts/partials/navbar.blade.php","title":"Inclure une vue dans la vue de base."},{"location":"Laravel/Blade/#les-conditions-de-base","text":"","title":"Les conditions de base"},{"location":"Laravel/Blade/#le-if","text":"@if (count($records) === 1) Cas 1 @elseif (count($records) > 1) Cas 2 @else Cas 3 @endif","title":"Le IF"},{"location":"Laravel/Blade/#le-switch","text":"@switch($i) @case(1) First case... @break @case(2) Second case... @break @default Default case... @endswitch","title":"Le Switch"},{"location":"Laravel/Blade/#le-foreach","text":"@foreach ($users as $user) <li>{{ $user->name }}</li> @endforeach","title":"Le Foreach"},{"location":"Laravel/Blade/#options-disponibles","text":"@continue($user->type == 1) @break($user->number == 5)","title":"Options disponibles"},{"location":"Laravel/Blade/#le-for","text":"@for ($i = 0; $i < 10; $i++) The current value is {{ $i }} @endfor","title":"Le For"},{"location":"Laravel/Blade/#le-while","text":"@while (true) <p>I'm looping forever.</p> @endwhile","title":"Le while"},{"location":"Laravel/Controller/","text":"Introduction \u00b6 Le controller est la partie qui va traiter les donn\u00e9es et les renvoy\u00e9s \u00e0 la vue, c'est le seul endroit o\u00f9 on fait du traitement de donn\u00e9e . Cr\u00e9er un controller \u00b6 php artisan make:controller HomeController Cette commande va cr\u00e9er un controller nomm\u00e9 HomeController dans app/Http/Controllers . Exemple \u00b6 class HomeController extends Controller { public function index() { $title = 'Accueil'; // Revoie de la variable title a la vue. return view('accueil', compact('title')); /*** * Ou bien: * return view('accueil')->with('title', $title); * return view('accueil', ['title' => $title]); */ } }","title":"Introduction au Controller dans Laravel"},{"location":"Laravel/Controller/#introduction","text":"Le controller est la partie qui va traiter les donn\u00e9es et les renvoy\u00e9s \u00e0 la vue, c'est le seul endroit o\u00f9 on fait du traitement de donn\u00e9e .","title":"Introduction"},{"location":"Laravel/Controller/#creer-un-controller","text":"php artisan make:controller HomeController Cette commande va cr\u00e9er un controller nomm\u00e9 HomeController dans app/Http/Controllers .","title":"Cr\u00e9er un controller"},{"location":"Laravel/Controller/#exemple","text":"class HomeController extends Controller { public function index() { $title = 'Accueil'; // Revoie de la variable title a la vue. return view('accueil', compact('title')); /*** * Ou bien: * return view('accueil')->with('title', $title); * return view('accueil', ['title' => $title]); */ } }","title":"Exemple"},{"location":"Laravel/Database/","text":"Configuration de la BDD \u00b6 MySQL / MariaDB \u00b6 La configuration se trouve dans le fichier .env DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=laravel DB_USERNAME=root DB_PASSWORD= SQLite \u00b6 DB_CONNECTION=sqlite DB_DATABASE=/absolute/path/to/database.sqlite DB_FOREIGN_KEYS=true PostgreSQL \u00b6 DB_CONNECTION=pgsql DB_HOST=127.0.0.1 DB_PORT=5432 DB_DATABASE=laravel DB_USERNAME=postgres DB_PASSWORD=","title":"Configurer la base de donn\u00e9e sur Laravel"},{"location":"Laravel/Database/#configuration-de-la-bdd","text":"","title":"Configuration de la BDD"},{"location":"Laravel/Database/#mysql-mariadb","text":"La configuration se trouve dans le fichier .env DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=laravel DB_USERNAME=root DB_PASSWORD=","title":"MySQL / MariaDB"},{"location":"Laravel/Database/#sqlite","text":"DB_CONNECTION=sqlite DB_DATABASE=/absolute/path/to/database.sqlite DB_FOREIGN_KEYS=true","title":"SQLite"},{"location":"Laravel/Database/#postgresql","text":"DB_CONNECTION=pgsql DB_HOST=127.0.0.1 DB_PORT=5432 DB_DATABASE=laravel DB_USERNAME=postgres DB_PASSWORD=","title":"PostgreSQL"},{"location":"Laravel/Introduction-ORM-Eloquent/","text":"Introduction \u00b6 Omnis voluptatem quam dignissimos voluptatem cumque nemo. Debug \u00b6 Laravel fournie une fonction pour debug, elle va afficher toutes les informations sur une variable, tableau... Cette fonction est dd . (DD = die and dump) dd($posts); R\u00e9cup\u00e9ration de toutes donn\u00e9es d'un mod\u00e8le \u00b6 $posts = Post::all(); return view('accueil', compact('posts')); Exemple d'un affichage dans la vue \u00b6 <!-- Si il y a des articles --> @if (count($posts) > 0) @foreach ($posts as $post) <h2>{{ $post->title }}</h2> @endforeach <!-- Si il n'y a pas d'article --> @else <p>Aucun article</p> @endif Le find \u00b6 // R\u00e9cup\u00e9ration du post qui a l'id 1 $posts = Post::find(1); Le FindOrFail \u00b6 // trouver un article par son id $posts = Post::findorfail(81); Si la condition n'est pas remplie, il va renvoyer une erreur 404. Le OrderBy \u00b6 $posts = Post::orderby('title'); Le WHERE \u00b6 // trouver un article par son title $posts = Post::where('title', '=', 'Omnis voluptatem quam dignissimos voluptatem cumque nemo.')->firstorfail();","title":"Introduction \u00e0 l'ORM Eloquent"},{"location":"Laravel/Introduction-ORM-Eloquent/#introduction","text":"Omnis voluptatem quam dignissimos voluptatem cumque nemo.","title":"Introduction"},{"location":"Laravel/Introduction-ORM-Eloquent/#debug","text":"Laravel fournie une fonction pour debug, elle va afficher toutes les informations sur une variable, tableau... Cette fonction est dd . (DD = die and dump) dd($posts);","title":"Debug"},{"location":"Laravel/Introduction-ORM-Eloquent/#recuperation-de-toutes-donnees-dun-modele","text":"$posts = Post::all(); return view('accueil', compact('posts'));","title":"R\u00e9cup\u00e9ration de toutes donn\u00e9es d'un mod\u00e8le"},{"location":"Laravel/Introduction-ORM-Eloquent/#exemple-dun-affichage-dans-la-vue","text":"<!-- Si il y a des articles --> @if (count($posts) > 0) @foreach ($posts as $post) <h2>{{ $post->title }}</h2> @endforeach <!-- Si il n'y a pas d'article --> @else <p>Aucun article</p> @endif","title":"Exemple d'un affichage dans la vue"},{"location":"Laravel/Introduction-ORM-Eloquent/#le-find","text":"// R\u00e9cup\u00e9ration du post qui a l'id 1 $posts = Post::find(1);","title":"Le find"},{"location":"Laravel/Introduction-ORM-Eloquent/#le-findorfail","text":"// trouver un article par son id $posts = Post::findorfail(81); Si la condition n'est pas remplie, il va renvoyer une erreur 404.","title":"Le FindOrFail"},{"location":"Laravel/Introduction-ORM-Eloquent/#le-orderby","text":"$posts = Post::orderby('title');","title":"Le OrderBy"},{"location":"Laravel/Introduction-ORM-Eloquent/#le-where","text":"// trouver un article par son title $posts = Post::where('title', '=', 'Omnis voluptatem quam dignissimos voluptatem cumque nemo.')->firstorfail();","title":"Le WHERE"},{"location":"Laravel/Les-Factories/","text":"Introduction \u00b6 Les facteurs vont servir \u00e0 peupler la base de donn\u00e9e, nous allons la peupler avec des donn\u00e9es al\u00e9atoires. Cr\u00e9er un factory \u00b6 php artisan make:factory PostFactory --model=Post Ici, on g\u00e9n\u00e8re un factory qui se nomme PostFactory et qui utilise le mod\u00e8le Post qui existe d\u00e9j\u00e0. Le factory est maintenant cr\u00e9\u00e9 ici : database/factories/PostFactory.php Modification du factory \u00b6 class PostFactory extends Factory { /** * Define the model's default state. * * @return array<string, mixed> */ public function definition(): array { return [ 'title' => $this->faker->sentence, 'content' => $this->faker->paragraph, 'created_at' => now() ]; } } La documentation sur les types g\u00e9n\u00e9rateurs int\u00e9gr\u00e9 est disponible ICI Lancer un factory \u00b6 Lancer une console PHP \u00b6 php artisan tinker Lancer PHP Faker \u00b6 Post::Factory()->count(10)->create(); Il va donc g\u00e9rer 10 lignes dans la BDD. En cas d'erreur sur la classe Post \u00b6 php artisan clear-compiled composer dump-autoload php artisan optimize","title":"Introduction au factories sur Laravel"},{"location":"Laravel/Les-Factories/#introduction","text":"Les facteurs vont servir \u00e0 peupler la base de donn\u00e9e, nous allons la peupler avec des donn\u00e9es al\u00e9atoires.","title":"Introduction"},{"location":"Laravel/Les-Factories/#creer-un-factory","text":"php artisan make:factory PostFactory --model=Post Ici, on g\u00e9n\u00e8re un factory qui se nomme PostFactory et qui utilise le mod\u00e8le Post qui existe d\u00e9j\u00e0. Le factory est maintenant cr\u00e9\u00e9 ici : database/factories/PostFactory.php","title":"Cr\u00e9er un factory"},{"location":"Laravel/Les-Factories/#modification-du-factory","text":"class PostFactory extends Factory { /** * Define the model's default state. * * @return array<string, mixed> */ public function definition(): array { return [ 'title' => $this->faker->sentence, 'content' => $this->faker->paragraph, 'created_at' => now() ]; } } La documentation sur les types g\u00e9n\u00e9rateurs int\u00e9gr\u00e9 est disponible ICI","title":"Modification du factory"},{"location":"Laravel/Les-Factories/#lancer-un-factory","text":"","title":"Lancer un factory"},{"location":"Laravel/Les-Factories/#lancer-une-console-php","text":"php artisan tinker","title":"Lancer une console PHP"},{"location":"Laravel/Les-Factories/#lancer-php-faker","text":"Post::Factory()->count(10)->create(); Il va donc g\u00e9rer 10 lignes dans la BDD.","title":"Lancer PHP Faker"},{"location":"Laravel/Les-Factories/#en-cas-derreur-sur-la-classe-post","text":"php artisan clear-compiled composer dump-autoload php artisan optimize","title":"En cas d'erreur sur la classe Post"},{"location":"Laravel/Les-Migrations/","text":"Cr\u00e9ation d'une Migration + Model \u00b6 php artisan make:model Post -m Nous venons de cr\u00e9er une migration et un model qui se nomme Post. Le chemin du model est : app/Models/Post.php et la migration : database/migrations/2023_04_17_123859_create_posts_table.php Cr\u00e9er les colonnes de la table \u00b6 public function up(): void { Schema::create('posts', function (Blueprint $table) { $table->id(); $table->timestamps(); }); } Il va donc y avoir une colonne ID, et timestamps (CreateAT, UpdateAT). Ajouts de colonnes \u00b6 public function up(): void { Schema::create('posts', function (Blueprint $table) { $table->id(); $table->string('title'); $table->text('content'); $table->timestamps(); }); } Il va ainsi y avoir un champ title de type string, et un champ content de type texte. Lancer la migration \u00b6 php artisan migrate Les tables sont maintenant cr\u00e9\u00e9es.","title":"Les migrations sur Laravel"},{"location":"Laravel/Les-Migrations/#creation-dune-migration-model","text":"php artisan make:model Post -m Nous venons de cr\u00e9er une migration et un model qui se nomme Post. Le chemin du model est : app/Models/Post.php et la migration : database/migrations/2023_04_17_123859_create_posts_table.php","title":"Cr\u00e9ation d'une Migration + Model"},{"location":"Laravel/Les-Migrations/#creer-les-colonnes-de-la-table","text":"public function up(): void { Schema::create('posts', function (Blueprint $table) { $table->id(); $table->timestamps(); }); } Il va donc y avoir une colonne ID, et timestamps (CreateAT, UpdateAT).","title":"Cr\u00e9er les colonnes de la table"},{"location":"Laravel/Les-Migrations/#ajouts-de-colonnes","text":"public function up(): void { Schema::create('posts', function (Blueprint $table) { $table->id(); $table->string('title'); $table->text('content'); $table->timestamps(); }); } Il va ainsi y avoir un champ title de type string, et un champ content de type texte.","title":"Ajouts de colonnes"},{"location":"Laravel/Les-Migrations/#lancer-la-migration","text":"php artisan migrate Les tables sont maintenant cr\u00e9\u00e9es.","title":"Lancer la migration"},{"location":"Laravel/Many-To-Many/","text":"Cr\u00e9ation de la table \u00b6 php artisan make:model -m Categorie Configuration de cette table \u00b6 public function up(): void { Schema::create('categories', function (Blueprint $table) { $table->id(); $table->string('name'); $table->timestamps(); }); } Cr\u00e9ation de la table pivot \u00b6 php artisan make:migration create_pivot_post_categorie Configuration de la table \u00b6 public function up(): void { Schema::create('categorie_post', function (Blueprint $table) { $table->id(); $table->foreignId('post_id')->constrained()->cascadeOnDelete(); $table->foreignId('categorie_id')->constrained()->cascadeOnDelete(); $table->timestamps(); }); } Lancer les migrations \u00b6 php artisan migrate Configuration du mod\u00e8le Post \u00b6 class Post extends Model { use HasFactory; public function categories() { return $this->belongsToMany(Categorie::class); } } Affichage dans la Vue \u00b6 @foreach ($posts->categories as $categorie) {{ $categorie->name }}, @endforeach","title":"La relation Many to Many"},{"location":"Laravel/Many-To-Many/#creation-de-la-table","text":"php artisan make:model -m Categorie","title":"Cr\u00e9ation de la table"},{"location":"Laravel/Many-To-Many/#configuration-de-cette-table","text":"public function up(): void { Schema::create('categories', function (Blueprint $table) { $table->id(); $table->string('name'); $table->timestamps(); }); }","title":"Configuration de cette table"},{"location":"Laravel/Many-To-Many/#creation-de-la-table-pivot","text":"php artisan make:migration create_pivot_post_categorie","title":"Cr\u00e9ation de la table pivot"},{"location":"Laravel/Many-To-Many/#configuration-de-la-table","text":"public function up(): void { Schema::create('categorie_post', function (Blueprint $table) { $table->id(); $table->foreignId('post_id')->constrained()->cascadeOnDelete(); $table->foreignId('categorie_id')->constrained()->cascadeOnDelete(); $table->timestamps(); }); }","title":"Configuration de la table"},{"location":"Laravel/Many-To-Many/#lancer-les-migrations","text":"php artisan migrate","title":"Lancer les migrations"},{"location":"Laravel/Many-To-Many/#configuration-du-modele-post","text":"class Post extends Model { use HasFactory; public function categories() { return $this->belongsToMany(Categorie::class); } }","title":"Configuration du mod\u00e8le Post"},{"location":"Laravel/Many-To-Many/#affichage-dans-la-vue","text":"@foreach ($posts->categories as $categorie) {{ $categorie->name }}, @endforeach","title":"Affichage dans la Vue"},{"location":"Laravel/One-To-Many/","text":"Cr\u00e9er le mod\u00e8le et la migration \u00b6 php artisan make:model -m Comment Configurer la base de donn\u00e9e \u00b6 public function up(): void { Schema::create('comments', function (Blueprint $table) { $table->id(); $table->mediumText('content'); $table->timestamps(); // post_id est li\u00e9 \u00e0 la cl\u00e9 primaire de la table posts $table->unsignedBigInteger(\"post_id\"); $table->foreign(\"post_id\")->references(\"id\")->on(\"posts\"); }); } Version simplifi\u00e9e \u00b6 public function up(): void { Schema::create('comments', function (Blueprint $table) { // post_id est li\u00e9 \u00e0 la cl\u00e9 primaire de la table posts $table->foreignId('post_id')->constrained(); }); } Mettre un acc\u00e8s au commentaire depuis Post \u00b6 Dans app/Models/Post.php class Post extends Model { use HasFactory; public function comments() { return $this->hasMany(Comment::class); } } Affichage dans la vue \u00b6 @foreach ($posts->comments as $comment) <p>{{ $comment->content }}</p> @endforeach","title":"La relation One to Many"},{"location":"Laravel/One-To-Many/#creer-le-modele-et-la-migration","text":"php artisan make:model -m Comment","title":"Cr\u00e9er le mod\u00e8le et la migration"},{"location":"Laravel/One-To-Many/#configurer-la-base-de-donnee","text":"public function up(): void { Schema::create('comments', function (Blueprint $table) { $table->id(); $table->mediumText('content'); $table->timestamps(); // post_id est li\u00e9 \u00e0 la cl\u00e9 primaire de la table posts $table->unsignedBigInteger(\"post_id\"); $table->foreign(\"post_id\")->references(\"id\")->on(\"posts\"); }); }","title":"Configurer la base de donn\u00e9e"},{"location":"Laravel/One-To-Many/#version-simplifiee","text":"public function up(): void { Schema::create('comments', function (Blueprint $table) { // post_id est li\u00e9 \u00e0 la cl\u00e9 primaire de la table posts $table->foreignId('post_id')->constrained(); }); }","title":"Version simplifi\u00e9e"},{"location":"Laravel/One-To-Many/#mettre-un-acces-au-commentaire-depuis-post","text":"Dans app/Models/Post.php class Post extends Model { use HasFactory; public function comments() { return $this->hasMany(Comment::class); } }","title":"Mettre un acc\u00e8s au commentaire depuis Post"},{"location":"Laravel/One-To-Many/#affichage-dans-la-vue","text":"@foreach ($posts->comments as $comment) <p>{{ $comment->content }}</p> @endforeach","title":"Affichage dans la vue"},{"location":"Laravel/One-To-One/","text":"Cr\u00e9er le mod\u00e8le et la migration \u00b6 php artisan make:model -m Image Configurer la base de donn\u00e9e \u00b6 public function up(): void { Schema::create('images', function (Blueprint $table) { $table->id(); $table->string('path')->default('default.jpg'); $table->foreignId('post_id')->constrained()->onDelete('cascade'); $table->timestamps(); }); } Configuration du mod\u00e8le qui va utiliser l'image \u00b6 class Post extends Model { use HasFactory; public function image() { return $this->hasOne(Image::class); } } Affichage dans la vue \u00b6 <img src=\"{{ $posts->image->path }}\" alt=\"{{ $posts->image->path }}\">","title":"La relation One to One"},{"location":"Laravel/One-To-One/#creer-le-modele-et-la-migration","text":"php artisan make:model -m Image","title":"Cr\u00e9er le mod\u00e8le et la migration"},{"location":"Laravel/One-To-One/#configurer-la-base-de-donnee","text":"public function up(): void { Schema::create('images', function (Blueprint $table) { $table->id(); $table->string('path')->default('default.jpg'); $table->foreignId('post_id')->constrained()->onDelete('cascade'); $table->timestamps(); }); }","title":"Configurer la base de donn\u00e9e"},{"location":"Laravel/One-To-One/#configuration-du-modele-qui-va-utiliser-limage","text":"class Post extends Model { use HasFactory; public function image() { return $this->hasOne(Image::class); } }","title":"Configuration du mod\u00e8le qui va utiliser l'image"},{"location":"Laravel/One-To-One/#affichage-dans-la-vue","text":"<img src=\"{{ $posts->image->path }}\" alt=\"{{ $posts->image->path }}\">","title":"Affichage dans la vue"},{"location":"Laravel/Traitement-Formulaire/","text":"Cr\u00e9ation des routes \u00b6 Nous allons cr\u00e9er deux routes, une route pour le formulaire et une autre route pour l'action du formulaire. Route::get('/posts/create', [PostController::class, 'create'])->name('posts.create'); Route::post('/posts/store', [PostController::class, 'store'])->name('posts.store'); Cr\u00e9ation du formulaire \u00b6 @extends ('layouts.app') @section ('content') <!-- formulaire de cr\u00e9ation d'un post --> <form action=\"{{ route('posts.store') }}\" method=\"POST\"> @csrf <div class=\"form-group\"> <label for=\"title\">Titre</label> <input type=\"text\" class=\"form-control\" name=\"title\" id=\"title\" placeholder=\"Titre\"> </div> <div class=\"form-group\"> <label for=\"content\">Contenu</label> <textarea class=\"form-control\" name=\"content\" id=\"content\" rows=\"3\"></textarea> </div> <button type=\"submit\" class=\"btn btn-primary\">Cr\u00e9er</button> </form> @endsection Ne pas oubliez le @csrf sinon le formulaire ne fonctionnera pas. {.is-warning} Cr\u00e9ation de la m\u00e9thode de cr\u00e9ation \u00b6 public function create() { $title = 'Cr\u00e9er un post'; return view('form', compact('title')); } Cr\u00e9ation de la m\u00e9thode de stockage \u00b6 public function store(Request $request) { // Cr\u00e9ation du post et stockage en base de donn\u00e9es Post::create([ 'title' => $request->title, 'content' => $request->content ]); // Redirection vers la page du post cr\u00e9\u00e9 return redirect()->route('posts.show', Post::latest()->first()->id); } Autorisation d'\u00e9criture des donn\u00e9es \u00b6 Les variables doivent \u00eatre autoris\u00e9 dans le mod\u00e8le. class Post extends Model { use HasFactory; protected $fillable = ['title', 'content']; } M\u00e9thode non recommand\u00e9e pour \u00e9crire dans la BDD \u00b6 public function store(Request $request) { // Cr\u00e9ation du post et stockage en base de donn\u00e9es $post = new Post(); $post->title = $request->input('title'); $post->content = $request->input('content'); $post->save(); // Redirection vers la page du post cr\u00e9\u00e9 return redirect()->route('posts.show', Post::latest()->first()->id); } Cette m\u00e9thode n'est pas recommand\u00e9e, car elle ne n\u00e9cessite pas d'autoris\u00e9 les variables \u00e0 envoyer dans la BDD. {.is-danger}","title":"Traitement d'un formulaire avec Laravel"},{"location":"Laravel/Traitement-Formulaire/#creation-des-routes","text":"Nous allons cr\u00e9er deux routes, une route pour le formulaire et une autre route pour l'action du formulaire. Route::get('/posts/create', [PostController::class, 'create'])->name('posts.create'); Route::post('/posts/store', [PostController::class, 'store'])->name('posts.store');","title":"Cr\u00e9ation des routes"},{"location":"Laravel/Traitement-Formulaire/#creation-du-formulaire","text":"@extends ('layouts.app') @section ('content') <!-- formulaire de cr\u00e9ation d'un post --> <form action=\"{{ route('posts.store') }}\" method=\"POST\"> @csrf <div class=\"form-group\"> <label for=\"title\">Titre</label> <input type=\"text\" class=\"form-control\" name=\"title\" id=\"title\" placeholder=\"Titre\"> </div> <div class=\"form-group\"> <label for=\"content\">Contenu</label> <textarea class=\"form-control\" name=\"content\" id=\"content\" rows=\"3\"></textarea> </div> <button type=\"submit\" class=\"btn btn-primary\">Cr\u00e9er</button> </form> @endsection Ne pas oubliez le @csrf sinon le formulaire ne fonctionnera pas. {.is-warning}","title":"Cr\u00e9ation du formulaire"},{"location":"Laravel/Traitement-Formulaire/#creation-de-la-methode-de-creation","text":"public function create() { $title = 'Cr\u00e9er un post'; return view('form', compact('title')); }","title":"Cr\u00e9ation de la m\u00e9thode de cr\u00e9ation"},{"location":"Laravel/Traitement-Formulaire/#creation-de-la-methode-de-stockage","text":"public function store(Request $request) { // Cr\u00e9ation du post et stockage en base de donn\u00e9es Post::create([ 'title' => $request->title, 'content' => $request->content ]); // Redirection vers la page du post cr\u00e9\u00e9 return redirect()->route('posts.show', Post::latest()->first()->id); }","title":"Cr\u00e9ation de la m\u00e9thode de stockage"},{"location":"Laravel/Traitement-Formulaire/#autorisation-decriture-des-donnees","text":"Les variables doivent \u00eatre autoris\u00e9 dans le mod\u00e8le. class Post extends Model { use HasFactory; protected $fillable = ['title', 'content']; }","title":"Autorisation d'\u00e9criture des donn\u00e9es"},{"location":"Laravel/Traitement-Formulaire/#methode-non-recommandee-pour-ecrire-dans-la-bdd","text":"public function store(Request $request) { // Cr\u00e9ation du post et stockage en base de donn\u00e9es $post = new Post(); $post->title = $request->input('title'); $post->content = $request->input('content'); $post->save(); // Redirection vers la page du post cr\u00e9\u00e9 return redirect()->route('posts.show', Post::latest()->first()->id); } Cette m\u00e9thode n'est pas recommand\u00e9e, car elle ne n\u00e9cessite pas d'autoris\u00e9 les variables \u00e0 envoyer dans la BDD. {.is-danger}","title":"M\u00e9thode non recommand\u00e9e pour \u00e9crire dans la BDD"},{"location":"Laravel/Upload/","text":"Introduction \u00b6 Dans cet exemple, nous allons cr\u00e9er un formulaire qui va cr\u00e9er un nouveau produit qui contient un nom, une categorie et on va lui definir une image. Cette image sera stock\u00e9e dans notre projet laravel (storage/app/public) . La m\u00e9thode qui va router vers le formulaire \u00b6 public function create(): View { $categories = Categorie::all(); return view('admin.produit.create', compact('categories')); } Cette m\u00e9thode va simplement r\u00e9cup\u00e9rer toutes les cat\u00e9gories disponibles et renvoyer la vue admin.produit.create (resources/views/admin/produit/create.blade.php) avec la variable c qui contient les cat\u00e9gories. Le formulaire HTML (Blade) \u00b6 <div class=\"py-12 max-w-7xl mx-auto sm:px-6 lg:px-8\"> <div class=\"overflow-x-auto bg-white dark:bg-gray-800 sm:px-12 sm:rounded-lg p-6\"> <!-- formulaire de cr\u00e9ation d'un produit --> <form action=\"{{ route('product.store') }}\" method=\"POST\" enctype=\"multipart/form-data\"> @csrf <div class=\"flex justify-center items-center flex-col\"> <div class=\"relative mb-6\" data-te-input-wrapper-init> <label for=\"nom\" class=\"block dark:text-white\">Titre:</label> <input type=\"text\" class=\"rounded dark:bg-gray-700 dark:text-white h-auto px-auto w-full \" name=\"nom\" id=\"nom\" placeholder=\"Titre\" /> </div> <div class=\"relative mb-6\"> <label for=\"category\" class=\"block dark:text-white\">Cat\u00e9gorie:</label> <select class=\"form-select rounded dark:bg-gray-700 dark:text-white\" name=\"category\" id=\"category\" > @foreach ($categories as $categorie) <option value=\"{{ $categorie->id }}\">{{ $categorie->nom }}</option> @endforeach </select> </div> <div class=\"relative mb-6\"> <label for=\"image\" class=\"block dark:text-white\">Image:</label> <input type=\"file\" class=\"rounded dark:bg-gray-700 dark:text-white h-auto px-auto w-full\" name=\"image\" id=\"image\" accept=\"image/svg+xml, image/jpeg, image/png, image/gif\" /> </div> <button type=\"submit\" class=\"px-4 py-2 bg-blue-500 text-white rounded-md\">Cr\u00e9er</button> </div> </form> </div> </div> Traitement du formulaire \u00b6 public function store(Request $request): RedirectResponse { // Validation du formulaire $validatedData = $request->validate([ 'nom' => 'required', 'category' => 'required', 'image' => 'required|image|mimes:jpeg,png,jpg,gif,svg' ]); // Upload de l'image $name = Storage::put('public/produits', $request->file('image')); $name = str_replace('public/', 'storage/', $name); $produits = Produits::create([ 'nom' => request('nom'), 'category_id' => (request('category')), 'photo' => $name, ]); return redirect()->route('product.list')->with('Succ\u00e8s', 'Le produit a bien \u00e9t\u00e9 cr\u00e9\u00e9e'); } Cette m\u00e9thode va donc valider les saisies du formulaire, t\u00e9l\u00e9vers\u00e9e l'image dans (storage/app/public) . Et enfin cr\u00e9e le produit dans la base de donn\u00e9e avec l'emplacement de l'image.","title":"Upload de Fichier sur Laravel"},{"location":"Laravel/Upload/#introduction","text":"Dans cet exemple, nous allons cr\u00e9er un formulaire qui va cr\u00e9er un nouveau produit qui contient un nom, une categorie et on va lui definir une image. Cette image sera stock\u00e9e dans notre projet laravel (storage/app/public) .","title":"Introduction"},{"location":"Laravel/Upload/#la-methode-qui-va-router-vers-le-formulaire","text":"public function create(): View { $categories = Categorie::all(); return view('admin.produit.create', compact('categories')); } Cette m\u00e9thode va simplement r\u00e9cup\u00e9rer toutes les cat\u00e9gories disponibles et renvoyer la vue admin.produit.create (resources/views/admin/produit/create.blade.php) avec la variable c qui contient les cat\u00e9gories.","title":"La m\u00e9thode qui va router vers le formulaire"},{"location":"Laravel/Upload/#le-formulaire-html-blade","text":"<div class=\"py-12 max-w-7xl mx-auto sm:px-6 lg:px-8\"> <div class=\"overflow-x-auto bg-white dark:bg-gray-800 sm:px-12 sm:rounded-lg p-6\"> <!-- formulaire de cr\u00e9ation d'un produit --> <form action=\"{{ route('product.store') }}\" method=\"POST\" enctype=\"multipart/form-data\"> @csrf <div class=\"flex justify-center items-center flex-col\"> <div class=\"relative mb-6\" data-te-input-wrapper-init> <label for=\"nom\" class=\"block dark:text-white\">Titre:</label> <input type=\"text\" class=\"rounded dark:bg-gray-700 dark:text-white h-auto px-auto w-full \" name=\"nom\" id=\"nom\" placeholder=\"Titre\" /> </div> <div class=\"relative mb-6\"> <label for=\"category\" class=\"block dark:text-white\">Cat\u00e9gorie:</label> <select class=\"form-select rounded dark:bg-gray-700 dark:text-white\" name=\"category\" id=\"category\" > @foreach ($categories as $categorie) <option value=\"{{ $categorie->id }}\">{{ $categorie->nom }}</option> @endforeach </select> </div> <div class=\"relative mb-6\"> <label for=\"image\" class=\"block dark:text-white\">Image:</label> <input type=\"file\" class=\"rounded dark:bg-gray-700 dark:text-white h-auto px-auto w-full\" name=\"image\" id=\"image\" accept=\"image/svg+xml, image/jpeg, image/png, image/gif\" /> </div> <button type=\"submit\" class=\"px-4 py-2 bg-blue-500 text-white rounded-md\">Cr\u00e9er</button> </div> </form> </div> </div>","title":"Le formulaire HTML (Blade)"},{"location":"Laravel/Upload/#traitement-du-formulaire","text":"public function store(Request $request): RedirectResponse { // Validation du formulaire $validatedData = $request->validate([ 'nom' => 'required', 'category' => 'required', 'image' => 'required|image|mimes:jpeg,png,jpg,gif,svg' ]); // Upload de l'image $name = Storage::put('public/produits', $request->file('image')); $name = str_replace('public/', 'storage/', $name); $produits = Produits::create([ 'nom' => request('nom'), 'category_id' => (request('category')), 'photo' => $name, ]); return redirect()->route('product.list')->with('Succ\u00e8s', 'Le produit a bien \u00e9t\u00e9 cr\u00e9\u00e9e'); } Cette m\u00e9thode va donc valider les saisies du formulaire, t\u00e9l\u00e9vers\u00e9e l'image dans (storage/app/public) . Et enfin cr\u00e9e le produit dans la base de donn\u00e9e avec l'emplacement de l'image.","title":"Traitement du formulaire"},{"location":"Laravel/Vue/","text":"Introduction \u00b6 Les vues se trouvent dans le dossier resources/views . Pour g\u00e9rer ses vues, Laravel utilise le moteur de rendu Blade. Chaque vue se nomme Nom_de_la_Vue .blade.php Cr\u00e9ation d'une vue \u00b6 Dans cet exemple, je vais cr\u00e9er la vue accueil , le chemin vers cette vue sera donc resources/views/accueil.blade.php Voici le contenu de base d'une vue sans logique <html> <body> <h1>{{ $name }}</h1> </body> </html> Dans cet exemple h1 affichera la variable name. D\u00e9finition de cette variable dans le controller public function index() { // Definition de la variable title $title = 'Accueil'; // Envoi de la variable \u00e0 la vue return view('accueil', ['title' => $title]); }","title":"Les Vues dans Laravel"},{"location":"Laravel/Vue/#introduction","text":"Les vues se trouvent dans le dossier resources/views . Pour g\u00e9rer ses vues, Laravel utilise le moteur de rendu Blade. Chaque vue se nomme Nom_de_la_Vue .blade.php","title":"Introduction"},{"location":"Laravel/Vue/#creation-dune-vue","text":"Dans cet exemple, je vais cr\u00e9er la vue accueil , le chemin vers cette vue sera donc resources/views/accueil.blade.php Voici le contenu de base d'une vue sans logique <html> <body> <h1>{{ $name }}</h1> </body> </html> Dans cet exemple h1 affichera la variable name. D\u00e9finition de cette variable dans le controller public function index() { // Definition de la variable title $title = 'Accueil'; // Envoi de la variable \u00e0 la vue return view('accueil', ['title' => $title]); }","title":"Cr\u00e9ation d'une vue"},{"location":"Laravel/creer-un-projet/","text":"Pr\u00e9requis \u00b6 Pour cr\u00e9er un projet, il faut que l'outil composer soit installer sur votre machine. Cr\u00e9ation d'un projet \u00b6 composer create-project laravel/laravel *nom-du-projet* Cr\u00e9ation avec Laravel-Installer \u00b6 Installation de l'outil de mani\u00e8re global \u00b6 composer global require laravel/installer Cr\u00e9ation du projet \u00b6 laravel new *nom-du-projet*","title":"Cr\u00e9er un nouveau projet Laravel"},{"location":"Laravel/creer-un-projet/#prerequis","text":"Pour cr\u00e9er un projet, il faut que l'outil composer soit installer sur votre machine.","title":"Pr\u00e9requis"},{"location":"Laravel/creer-un-projet/#creation-dun-projet","text":"composer create-project laravel/laravel *nom-du-projet*","title":"Cr\u00e9ation d'un projet"},{"location":"Laravel/creer-un-projet/#creation-avec-laravel-installer","text":"","title":"Cr\u00e9ation avec Laravel-Installer"},{"location":"Laravel/creer-un-projet/#installation-de-loutil-de-maniere-global","text":"composer global require laravel/installer","title":"Installation de l'outil de mani\u00e8re global"},{"location":"Laravel/creer-un-projet/#creation-du-projet","text":"laravel new *nom-du-projet*","title":"Cr\u00e9ation du projet"},{"location":"Laravel/middlewares/","text":"Utilisation \u00b6 Utilisation d'un Middleware avec un groupe de route \u00b6 Route::middleware('auth')->group(function () { Route::get('/foo', 'HomeController@foo')->name('foo'); Route::get('/bar', 'HomeController@bar')->name('bar'); }); # routes/web.php Dans cet exemple, /foo et /bar vont utiliser le middleware auth, ce qui va permettre que ses routes soient uniquement accessibles \u00e0 un compte connect\u00e9. Pour une route simple \u00b6 Route::get('/foo', 'HomeController@foo')->name('foo')->middleware('auth'); Cr\u00e9er son propre Middleware \u00b6 php artisan make:middleware nom Le middleware ce trouve dans app/Http/Middleware/nom.php Enregistrement du Middleware \u00b6 Dans app/Http/Kernel.php protected $middlewareAliases = [ ........ 'nom' => \\App\\Http\\Middleware\\nom::class, ]; Mettre en place la logique du Middleware \u00b6 Dans app/Http/Middleware/nom.php class IsAdmin { /** * Handle an incoming request. * * @param \\Closure(\\Illuminate\\Http\\Request): (\\Symfony\\Component\\HttpFoundation\\Response) $next */ public function handle(Request $request, Closure $next): Response { /* | Logique | | if (! auth()->user()->admin == 0) { | abort(403); |} | */ return $next($request); } }","title":"Les Middleware"},{"location":"Laravel/middlewares/#utilisation","text":"","title":"Utilisation"},{"location":"Laravel/middlewares/#utilisation-dun-middleware-avec-un-groupe-de-route","text":"Route::middleware('auth')->group(function () { Route::get('/foo', 'HomeController@foo')->name('foo'); Route::get('/bar', 'HomeController@bar')->name('bar'); }); # routes/web.php Dans cet exemple, /foo et /bar vont utiliser le middleware auth, ce qui va permettre que ses routes soient uniquement accessibles \u00e0 un compte connect\u00e9.","title":"Utilisation d'un Middleware avec un groupe de route"},{"location":"Laravel/middlewares/#pour-une-route-simple","text":"Route::get('/foo', 'HomeController@foo')->name('foo')->middleware('auth');","title":"Pour une route simple"},{"location":"Laravel/middlewares/#creer-son-propre-middleware","text":"php artisan make:middleware nom Le middleware ce trouve dans app/Http/Middleware/nom.php","title":"Cr\u00e9er son propre Middleware"},{"location":"Laravel/middlewares/#enregistrement-du-middleware","text":"Dans app/Http/Kernel.php protected $middlewareAliases = [ ........ 'nom' => \\App\\Http\\Middleware\\nom::class, ];","title":"Enregistrement du Middleware"},{"location":"Laravel/middlewares/#mettre-en-place-la-logique-du-middleware","text":"Dans app/Http/Middleware/nom.php class IsAdmin { /** * Handle an incoming request. * * @param \\Closure(\\Illuminate\\Http\\Request): (\\Symfony\\Component\\HttpFoundation\\Response) $next */ public function handle(Request $request, Closure $next): Response { /* | Logique | | if (! auth()->user()->admin == 0) { | abort(403); |} | */ return $next($request); } }","title":"Mettre en place la logique du Middleware"},{"location":"Laravel/routing/","text":"Fonctionnement \u00b6 La configuration des routes pour une application web ce trouve dans routes/web.php . Mises en place d'une route \u00b6 Voici comment cr\u00e9er une route \"/\" qui va utiliser la fonction index du controller HomeController (qui est dans app/Http/Controllers/HomeController.php) Route::get('/', [HomeController::class, 'index']); Definir un nom \u00e0 la route \u00b6 return view('accueil', ['title' => $title])->name(\"accueil\"); Mises en place d'une route qui renvoie une vue (non recommand\u00e9) \u00b6 Route::get('/', function () { return view('accueil'); }); Phasellus posuere in sem ut cursus Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.","title":"Le Routing sur Laravel"},{"location":"Laravel/routing/#fonctionnement","text":"La configuration des routes pour une application web ce trouve dans routes/web.php .","title":"Fonctionnement"},{"location":"Laravel/routing/#mises-en-place-dune-route","text":"Voici comment cr\u00e9er une route \"/\" qui va utiliser la fonction index du controller HomeController (qui est dans app/Http/Controllers/HomeController.php) Route::get('/', [HomeController::class, 'index']);","title":"Mises en place d'une route"},{"location":"Laravel/routing/#definir-un-nom-a-la-route","text":"return view('accueil', ['title' => $title])->name(\"accueil\");","title":"Definir un nom \u00e0 la route"},{"location":"Laravel/routing/#mises-en-place-dune-route-qui-renvoie-une-vue-non-recommande","text":"Route::get('/', function () { return view('accueil'); }); Phasellus posuere in sem ut cursus Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.","title":"Mises en place d'une route qui renvoie une vue (non recommand\u00e9)"},{"location":"Mikrotik/commandes/","text":"Sauvegarde de la configuration \u00b6 [admin@MikroTik] system backup save name=backupconf Sauvegarde sous le nom backupconf {.is-info} Charger une configuration \u00b6 [admin@MikroTik] system backup load name=backupconf Mettre la configuration backupconf {.is-info} Reset \u00b6 [admin@MikroTik] system reset-configuration","title":"Commandes Mikrotik"},{"location":"Mikrotik/commandes/#sauvegarde-de-la-configuration","text":"[admin@MikroTik] system backup save name=backupconf Sauvegarde sous le nom backupconf {.is-info}","title":"Sauvegarde de la configuration"},{"location":"Mikrotik/commandes/#charger-une-configuration","text":"[admin@MikroTik] system backup load name=backupconf Mettre la configuration backupconf {.is-info}","title":"Charger une configuration"},{"location":"Mikrotik/commandes/#reset","text":"[admin@MikroTik] system reset-configuration","title":"Reset"},{"location":"Symfony/Twig/","text":"Afficher une variable \u00b6 Dans cet exemple, je vais afficher la variable ave. {{ ave }} Les boucles \u00b6 FOR \u00b6 {% for user in users %} <li>{{ user.username }}</li> {% endfor %} Les Conditions \u00b6 IF \u00b6 {% if variable == truc) %} <p>La valeur de variable est truc.</p> {% endif %}","title":"Utilisation de Twig"},{"location":"Symfony/Twig/#afficher-une-variable","text":"Dans cet exemple, je vais afficher la variable ave. {{ ave }}","title":"Afficher une variable"},{"location":"Symfony/Twig/#les-boucles","text":"","title":"Les boucles"},{"location":"Symfony/Twig/#for","text":"{% for user in users %} <li>{{ user.username }}</li> {% endfor %}","title":"FOR"},{"location":"Symfony/Twig/#les-conditions","text":"","title":"Les Conditions"},{"location":"Symfony/Twig/#if","text":"{% if variable == truc) %} <p>La valeur de variable est truc.</p> {% endif %}","title":"IF"},{"location":"UNIX/Asterisk-Route-InterContexte/","text":"Mises en place d'un routage InterContexte \u00b6 Configuration des utilisateurs \u00b6 [local-user](!) type = friend host = dynamic context = default [template](!) type = friend host = dynamic dtmfmode = rfc2833 disallow = all allow = ulaw allow = alaw [666](local-user) fullname = Utilisateur secret = 1234 mailbox = 666 [801](template) fullname = Utilisatrice secret = 1234 context = finance Configuration du routage InterContexte \u00b6 vi /etc/asterisk/extensions.conf [finance] ;jonction entre les utilisateurs des contextes finance default. exten => _6XX,1,Goto(default,${EXTEN},1) Le num\u00e9ro 6XX correspond \u00e0 num\u00e9ro 6xx du contexte default .","title":"Mises en place d'un routage InterContexte"},{"location":"UNIX/Asterisk-Route-InterContexte/#mises-en-place-dun-routage-intercontexte","text":"","title":"Mises en place d'un routage InterContexte"},{"location":"UNIX/Asterisk-Route-InterContexte/#configuration-des-utilisateurs","text":"[local-user](!) type = friend host = dynamic context = default [template](!) type = friend host = dynamic dtmfmode = rfc2833 disallow = all allow = ulaw allow = alaw [666](local-user) fullname = Utilisateur secret = 1234 mailbox = 666 [801](template) fullname = Utilisatrice secret = 1234 context = finance","title":"Configuration des utilisateurs"},{"location":"UNIX/Asterisk-Route-InterContexte/#configuration-du-routage-intercontexte","text":"vi /etc/asterisk/extensions.conf [finance] ;jonction entre les utilisateurs des contextes finance default. exten => _6XX,1,Goto(default,${EXTEN},1) Le num\u00e9ro 6XX correspond \u00e0 num\u00e9ro 6xx du contexte default .","title":"Configuration du routage InterContexte"},{"location":"UNIX/Changer-le-Subnet-Docker/","text":"Changement du Subnet par d\u00e9faut de Docker \u00b6 Param\u00e9trage de Docker \u00b6 Dans cette exemple je vais utiliser le subnet 10.0.1.0/24 . Pour param\u00e9trer docker, il faut modifier le subnet dans le fichier /etc/docker/daemon.json si ce fichier n'existe pas il faut le cr\u00e9er. vi /etc/docker/daemon.json Et rajout\u00e9 ces lignes. { \"bip\": \"10.0.1.1/24\" } Red\u00e9marrer Docker \u00b6 Dans cet exemple je vais utiliser une distribution qui utilise Systemd comme syst\u00e8me d'Init. systemctl restart docker V\u00e9rifi\u00e9 le r\u00e9seau \u00b6 Vous pouvez v\u00e9rifier le r\u00e9seau utilis\u00e9 par docker avec la commande ip a . ip a R\u00e9sultat: \u00b6 3: docker0: mtu 1500 qdisc noqueue state DOWN group default link/ether 02:42:6c:77:d8:9b brd ff:ff:ff:ff:ff:ff inet 10.0.1.1/24 brd 10.0.1.255 scope global docker0 valid_lft forever preferred_lft forever","title":"Changement du Subnet par d\u00e9faut de Docker"},{"location":"UNIX/Changer-le-Subnet-Docker/#changement-du-subnet-par-defaut-de-docker","text":"","title":"Changement du Subnet par d\u00e9faut de Docker"},{"location":"UNIX/Changer-le-Subnet-Docker/#parametrage-de-docker","text":"Dans cette exemple je vais utiliser le subnet 10.0.1.0/24 . Pour param\u00e9trer docker, il faut modifier le subnet dans le fichier /etc/docker/daemon.json si ce fichier n'existe pas il faut le cr\u00e9er. vi /etc/docker/daemon.json Et rajout\u00e9 ces lignes. { \"bip\": \"10.0.1.1/24\" }","title":"Param\u00e9trage de Docker"},{"location":"UNIX/Changer-le-Subnet-Docker/#redemarrer-docker","text":"Dans cet exemple je vais utiliser une distribution qui utilise Systemd comme syst\u00e8me d'Init. systemctl restart docker","title":"Red\u00e9marrer Docker"},{"location":"UNIX/Changer-le-Subnet-Docker/#verifie-le-reseau","text":"Vous pouvez v\u00e9rifier le r\u00e9seau utilis\u00e9 par docker avec la commande ip a . ip a","title":"V\u00e9rifi\u00e9 le r\u00e9seau"},{"location":"UNIX/Changer-le-Subnet-Docker/#resultat","text":"3: docker0: mtu 1500 qdisc noqueue state DOWN group default link/ether 02:42:6c:77:d8:9b brd ff:ff:ff:ff:ff:ff inet 10.0.1.1/24 brd 10.0.1.255 scope global docker0 valid_lft forever preferred_lft forever","title":"R\u00e9sultat:"},{"location":"UNIX/Cle-SSH/","text":"Creation et mises en place d'une cl\u00e9 SSH \u00b6 Creation de la cl\u00e9 en ed25519 : \u00b6 ssh-keygen -t ed25519 Installation de la cl\u00e9 sur le serveur : \u00b6 ssh-copy-id -i ~/.ssh/id_ecdsa user@host","title":"Creation et mises en place d'une cl\u00e9 SSH"},{"location":"UNIX/Cle-SSH/#creation-et-mises-en-place-dune-cle-ssh","text":"","title":"Creation et mises en place d'une cl\u00e9 SSH"},{"location":"UNIX/Cle-SSH/#creation-de-la-cle-en-ed25519","text":"ssh-keygen -t ed25519","title":"Creation de la cl\u00e9 en ed25519 :"},{"location":"UNIX/Cle-SSH/#installation-de-la-cle-sur-le-serveur","text":"ssh-copy-id -i ~/.ssh/id_ecdsa user@host","title":"Installation de la cl\u00e9 sur le serveur :"},{"location":"UNIX/Cluster-Asterisk/","text":"Installation de Corosync & Pacemaker \u00b6 apt install corosync pacemaker crmsh G\u00e9n\u00e9rer la cl\u00e9 \u00b6 corosync-keygen La cl\u00e9 se trouve ici : /etc/corosync/authkey, il faut qu'elle soit sur tous les n\u0153uds. configuration de Corosync \u00b6 vi /etc/corosync/corosync.conf totem { version: 2 cluster_name: asterisk crypto_cipher: aes256 crypto_hash: sha1 clear_node_high_bit:yes } logging { fileline: off to_logfile: yes logfile: /var/log/corosync/corosync.log to_syslog: no debug: off timestamp: on logger_subsys { subsys: QUORUM debug: off } } quorum { provider: corosync_votequorum expected_votes: 2 two_nodes: 1 } nodelist { node { name: serv1 nodeid: 1 ring0_addr: 10.0.2.20 } node { name: serv2 nodeid: 2 ring0_addr: 10.0.2.21 } } service { ver: 0 name: pacemaker } systemctl restart corosync pacemaker Voir l'\u00e9tat des noeuds. \u00b6 crm status D\u00e9sactivation du Quorum \u00b6 crm configure property stonith-enabled=false crm configure property no-quorum-policy=ignore Mises en place de l'IPFailover \u00b6 crm configure primitive IPFailover ocf:heartbeat:IPaddr2 params ip=10.0.2.23 cidr_netmask=24 nic=eth0 iflabel=VIP op monitor interval=\"30s\" timeout=\"20s\" Configuration de la ressource Asterisk \u00b6 crm configure primitive asterisk systemd:asterisk.service op monitor interval=30s Cr\u00e9ation du groupe Asterisk (IPFailOver + Asterisk) \u00b6 crm configure group servasterisk IPFailover asterisk meta migration-threshold=\"5\" Definir la pr\u00e9ference sur serv1 \u00b6 crm configure location cli-prefer-ServAsterisk servasterisk role=Started inf: serv1","title":"Installation de Corosync &amp; Pacemaker"},{"location":"UNIX/Cluster-Asterisk/#installation-de-corosync-pacemaker","text":"apt install corosync pacemaker crmsh","title":"Installation de Corosync &amp; Pacemaker"},{"location":"UNIX/Cluster-Asterisk/#generer-la-cle","text":"corosync-keygen La cl\u00e9 se trouve ici : /etc/corosync/authkey, il faut qu'elle soit sur tous les n\u0153uds.","title":"G\u00e9n\u00e9rer la cl\u00e9"},{"location":"UNIX/Cluster-Asterisk/#configuration-de-corosync","text":"vi /etc/corosync/corosync.conf totem { version: 2 cluster_name: asterisk crypto_cipher: aes256 crypto_hash: sha1 clear_node_high_bit:yes } logging { fileline: off to_logfile: yes logfile: /var/log/corosync/corosync.log to_syslog: no debug: off timestamp: on logger_subsys { subsys: QUORUM debug: off } } quorum { provider: corosync_votequorum expected_votes: 2 two_nodes: 1 } nodelist { node { name: serv1 nodeid: 1 ring0_addr: 10.0.2.20 } node { name: serv2 nodeid: 2 ring0_addr: 10.0.2.21 } } service { ver: 0 name: pacemaker } systemctl restart corosync pacemaker","title":"configuration de Corosync"},{"location":"UNIX/Cluster-Asterisk/#voir-letat-des-noeuds","text":"crm status","title":"Voir l'\u00e9tat des noeuds."},{"location":"UNIX/Cluster-Asterisk/#desactivation-du-quorum","text":"crm configure property stonith-enabled=false crm configure property no-quorum-policy=ignore","title":"D\u00e9sactivation du Quorum"},{"location":"UNIX/Cluster-Asterisk/#mises-en-place-de-lipfailover","text":"crm configure primitive IPFailover ocf:heartbeat:IPaddr2 params ip=10.0.2.23 cidr_netmask=24 nic=eth0 iflabel=VIP op monitor interval=\"30s\" timeout=\"20s\"","title":"Mises en place de l'IPFailover"},{"location":"UNIX/Cluster-Asterisk/#configuration-de-la-ressource-asterisk","text":"crm configure primitive asterisk systemd:asterisk.service op monitor interval=30s","title":"Configuration de la ressource Asterisk"},{"location":"UNIX/Cluster-Asterisk/#creation-du-groupe-asterisk-ipfailover-asterisk","text":"crm configure group servasterisk IPFailover asterisk meta migration-threshold=\"5\"","title":"Cr\u00e9ation du groupe Asterisk (IPFailOver + Asterisk)"},{"location":"UNIX/Cluster-Asterisk/#definir-la-preference-sur-serv1","text":"crm configure location cli-prefer-ServAsterisk servasterisk role=Started inf: serv1","title":"Definir la pr\u00e9ference sur serv1"},{"location":"UNIX/Cluster-HA-Corosync/","text":"Cr\u00e9er un cluster HA avec corosync \u00b6 Installation sur Debian \u00b6 apt install corosync pacemaker crmsh Cr\u00e9ation de la cl\u00e9 d'authentification \u00b6 corosync-keygen La cl\u00e9 est g\u00e9n\u00e9r\u00e9 dans /etc/corosync/authkey , il faudra la copi\u00e9 sur l'autres machine du n\u0153ud . scp /etc/corosync/authkey root@10.0.1.2:/etc/corosync/ Configuration de Corosync \u00b6 rm /etc/corosync/corosync.conf && vi /etc/corosync/corosync.conf totem { version: 2 cluster_name: cluster_web crypto_cipher: aes256 crypto_hash: sha1 clear_node_high_bit:yes } logging { fileline: off to_logfile: yes logfile: /var/log/corosync/corosync.log to_syslog: no debug: off timestamp: on logger_subsys { subsys: QUORUM debug: off } } quorum { provider: corosync_votequorum expected_votes: 2 two_nodes: 1 } nodelist { node { name: serv1 nodeid: 1 ring0_addr: 10.0.1.1 } node { name: serv2 nodeid: 2 ring0_addr: 10.0.1.2 } } service { ver: 0 name: pacemaker } /etc/init.d/corosync restart /etc/init.d/pacemaker restart scp /etc/corosync/corosync.conf root@10.0.1.2:/etc/corosync/ Sur srv2 /etc/init.d/corosync restart /etc/init.d/pacemaker restart Affichage du status de corosync \u00b6 corosync-cfgtool -s root@srv1:~# corosync-cfgtool -s Local node ID 1, transport knet LINK ID 0 addr = 10.0.1.1 status: nodeid: 1: localhost nodeid: 2: connected D\u00e9sactivation de STONITH \u00b6 A faire sur tous les serveurs crm configure property stonith-enabled=false D\u00e9sactiver Quorum (seulement quand il y a que 2 serveurs) \u00b6 crm configure property no-quorum-policy=\"ignore\" Activation / D\u00e9sactivation d'un node \u00b6 crm node standby crm node online","title":"Cr\u00e9er un cluster HA avec corosync"},{"location":"UNIX/Cluster-HA-Corosync/#creer-un-cluster-ha-avec-corosync","text":"","title":"Cr\u00e9er un cluster HA avec corosync"},{"location":"UNIX/Cluster-HA-Corosync/#installation-sur-debian","text":"apt install corosync pacemaker crmsh","title":"Installation sur Debian"},{"location":"UNIX/Cluster-HA-Corosync/#creation-de-la-cle-dauthentification","text":"corosync-keygen La cl\u00e9 est g\u00e9n\u00e9r\u00e9 dans /etc/corosync/authkey , il faudra la copi\u00e9 sur l'autres machine du n\u0153ud . scp /etc/corosync/authkey root@10.0.1.2:/etc/corosync/","title":"Cr\u00e9ation de la cl\u00e9 d'authentification"},{"location":"UNIX/Cluster-HA-Corosync/#configuration-de-corosync","text":"rm /etc/corosync/corosync.conf && vi /etc/corosync/corosync.conf totem { version: 2 cluster_name: cluster_web crypto_cipher: aes256 crypto_hash: sha1 clear_node_high_bit:yes } logging { fileline: off to_logfile: yes logfile: /var/log/corosync/corosync.log to_syslog: no debug: off timestamp: on logger_subsys { subsys: QUORUM debug: off } } quorum { provider: corosync_votequorum expected_votes: 2 two_nodes: 1 } nodelist { node { name: serv1 nodeid: 1 ring0_addr: 10.0.1.1 } node { name: serv2 nodeid: 2 ring0_addr: 10.0.1.2 } } service { ver: 0 name: pacemaker } /etc/init.d/corosync restart /etc/init.d/pacemaker restart scp /etc/corosync/corosync.conf root@10.0.1.2:/etc/corosync/ Sur srv2 /etc/init.d/corosync restart /etc/init.d/pacemaker restart","title":"Configuration de Corosync"},{"location":"UNIX/Cluster-HA-Corosync/#affichage-du-status-de-corosync","text":"corosync-cfgtool -s root@srv1:~# corosync-cfgtool -s Local node ID 1, transport knet LINK ID 0 addr = 10.0.1.1 status: nodeid: 1: localhost nodeid: 2: connected","title":"Affichage du status de corosync"},{"location":"UNIX/Cluster-HA-Corosync/#desactivation-de-stonith","text":"A faire sur tous les serveurs crm configure property stonith-enabled=false","title":"D\u00e9sactivation de STONITH"},{"location":"UNIX/Cluster-HA-Corosync/#desactiver-quorum-seulement-quand-il-y-a-que-2-serveurs","text":"crm configure property no-quorum-policy=\"ignore\"","title":"D\u00e9sactiver Quorum (seulement quand il y a que 2 serveurs)"},{"location":"UNIX/Cluster-HA-Corosync/#activation-desactivation-dun-node","text":"crm node standby crm node online","title":"Activation / D\u00e9sactivation d'un node"},{"location":"UNIX/Creer-Depot-RPM/","text":"Cr\u00e9er un d\u00e9p\u00f4t RPM \u00b6 Cr\u00e9ation du d\u00e9p\u00f4t \u00b6 mkdir /var/www/html createrepo /var/www/html Le d\u00e9p\u00f4t est cr\u00e9\u00e9, il vous reste juste \u00e0 faire un serveur web, ou sont root directory est /var/www/html. Mise \u00e0 jour du d\u00e9p\u00f4t (ajouts des nouveaux RPM) \u00b6 cd /var/www/html createrepo --update /var/www/html Configuration du d\u00e9p\u00f4t depuis le client \u00b6 cd /etc/yum.repos.d/ vi depot.repo Exemple vers un serveur HTTPS avec une signature GPG \u00b6 [ITSM-NG] name=ITSM-ng baseurl=http://rpm.itsm-ng.org/redhat/$releasever enabled=1 gpgcheck=1 gpgkey=http://rpm.itsm-ng.org/pubkey.gpg Exemple avec un dossier local \u00b6 [ITSM-NG] name=ITSM-ng baseurl=file:///var/www/html enabled=1 gpgcheck=0 Signature du RPM \u00b6 Vous devez d\u00e9j\u00e0 avoir configur\u00e9 le ~/.rpmmacro et cr\u00e9er votre cl\u00e9 rpm --addsign itsm-ng-1.5.1-1.fc39.noarch.rpm V\u00e9rification \u00b6 rpm -qpi itsm-ng-1.5.1-1.fc39.noarch.rpm","title":"Cr\u00e9er un d\u00e9p\u00f4t RPM"},{"location":"UNIX/Creer-Depot-RPM/#creer-un-depot-rpm","text":"","title":"Cr\u00e9er un d\u00e9p\u00f4t RPM"},{"location":"UNIX/Creer-Depot-RPM/#creation-du-depot","text":"mkdir /var/www/html createrepo /var/www/html Le d\u00e9p\u00f4t est cr\u00e9\u00e9, il vous reste juste \u00e0 faire un serveur web, ou sont root directory est /var/www/html.","title":"Cr\u00e9ation du d\u00e9p\u00f4t"},{"location":"UNIX/Creer-Depot-RPM/#mise-a-jour-du-depot-ajouts-des-nouveaux-rpm","text":"cd /var/www/html createrepo --update /var/www/html","title":"Mise \u00e0 jour du d\u00e9p\u00f4t (ajouts des nouveaux RPM)"},{"location":"UNIX/Creer-Depot-RPM/#configuration-du-depot-depuis-le-client","text":"cd /etc/yum.repos.d/ vi depot.repo","title":"Configuration du d\u00e9p\u00f4t depuis le client"},{"location":"UNIX/Creer-Depot-RPM/#exemple-vers-un-serveur-https-avec-une-signature-gpg","text":"[ITSM-NG] name=ITSM-ng baseurl=http://rpm.itsm-ng.org/redhat/$releasever enabled=1 gpgcheck=1 gpgkey=http://rpm.itsm-ng.org/pubkey.gpg","title":"Exemple vers un serveur HTTPS avec une signature GPG"},{"location":"UNIX/Creer-Depot-RPM/#exemple-avec-un-dossier-local","text":"[ITSM-NG] name=ITSM-ng baseurl=file:///var/www/html enabled=1 gpgcheck=0","title":"Exemple avec un dossier local"},{"location":"UNIX/Creer-Depot-RPM/#signature-du-rpm","text":"Vous devez d\u00e9j\u00e0 avoir configur\u00e9 le ~/.rpmmacro et cr\u00e9er votre cl\u00e9 rpm --addsign itsm-ng-1.5.1-1.fc39.noarch.rpm","title":"Signature du RPM"},{"location":"UNIX/Creer-Depot-RPM/#verification","text":"rpm -qpi itsm-ng-1.5.1-1.fc39.noarch.rpm","title":"V\u00e9rification"},{"location":"UNIX/DNS-BIND-DNSSEC/","text":"Configuration de DNSSEC sur BIND \u00b6 mkdir /etc/bind/keys vi /etc/bind/named.conf.options` dnssec-enable yes; Cr\u00e9ation des cl\u00e9s \u00b6 cd /etc/bind/keys ZSK: dnssec-keygen -a RSASHA512 -b 4096 -n zone mandriva.com KSK dnssec-keygen -a RSASHA512 -b 4096 -f KSK -n zone mandriva.com Bind \u00b6 vi /var/cache/bind/db.mandriva.com ; KSK $include \"keys/Kmandriva.com.+010+58774.key\"; ; ZSK $include \"keys/Kmandriva.com.+010+41723.key\"; Signature \u00b6 cd /etc/bind dnssec-signzone -o mandriva.com -t -k keys/Kmandriva.com.+010+58774.key /var/cache/bind/db.mandriva.com keys/Kmandriva.com.+010+41723.key Test \u00b6 dig +dnssec mandriva.com","title":"Configuration de DNSSEC sur BIND"},{"location":"UNIX/DNS-BIND-DNSSEC/#configuration-de-dnssec-sur-bind","text":"mkdir /etc/bind/keys vi /etc/bind/named.conf.options` dnssec-enable yes;","title":"Configuration de DNSSEC sur BIND"},{"location":"UNIX/DNS-BIND-DNSSEC/#creation-des-cles","text":"cd /etc/bind/keys ZSK: dnssec-keygen -a RSASHA512 -b 4096 -n zone mandriva.com KSK dnssec-keygen -a RSASHA512 -b 4096 -f KSK -n zone mandriva.com","title":"Cr\u00e9ation des cl\u00e9s"},{"location":"UNIX/DNS-BIND-DNSSEC/#bind","text":"vi /var/cache/bind/db.mandriva.com ; KSK $include \"keys/Kmandriva.com.+010+58774.key\"; ; ZSK $include \"keys/Kmandriva.com.+010+41723.key\";","title":"Bind"},{"location":"UNIX/DNS-BIND-DNSSEC/#signature","text":"cd /etc/bind dnssec-signzone -o mandriva.com -t -k keys/Kmandriva.com.+010+58774.key /var/cache/bind/db.mandriva.com keys/Kmandriva.com.+010+41723.key","title":"Signature"},{"location":"UNIX/DNS-BIND-DNSSEC/#test","text":"dig +dnssec mandriva.com","title":"Test"},{"location":"UNIX/DNS-BIND/","text":"Installation d'un DNS avec Bind \u00b6 D\u00e9claration des zones: \u00b6 vi /etc/bind/named.conf.local // Domaine mandriva.com zone \"mandriva.com\" { type master; file \"db.mandriva.com\"; allow-transfer { 10.0.1.3; }; }; // Zone inverser du r\u00e9seau 10.0.1.0 zone \"1.0.10.in-addr.arpa\" { type master; file \"db.10.0.1.0.rev\" allow-transfer { 10.0.1.3; }; }; Cr\u00e9ation des zones: \u00b6 vi /var/cache/bind/db.mandriva.com $TTL 86400 @ IN SOA ns1.mandriva.com. ns2.mandriva.com. ( 2022092001 ; Serial 3600 ; Refresh [1h] 600 ; Retry [10m] 86400 ; Expire [1d] 600 ) ; Negative Cache TTL [1h] @ IN NS ns1.mandriva.com. @ IN NS ns2.mandriva.com. @ IN A 10.0.1.1 ns1 IN A 10.0.1.2 ns2 IN A 10.0.1.3 www IN CNAME mandriva.com. Zone inverser \u00b6 vi /var/cache/bind/db.10.0.1.0.rev $TTL 86400 @ IN SOA ns1.mandriva.com. ns2.mandriva.com. ( 2022092001 ; Serial 3600 ; Refresh [1h] 600 ; Retry [10m] 86400 ; Expire [1d] 600 ) ; Negative Cache TTL [1h] @ IN NS ns1.mandriva.com. @ IN NS ns2.mandriva.com. 1 IN PTR mandriva.com. 2 IN PTR ns1.mandriva.com. 3 IN PTR ns2.mandriva.com. Mises en place du Forward \u00b6 vi /etc/bind/named.conf.options options { directory \"/var/cache/bind\"; // Forward sur le DNS 8.8.8.8 forwarders { 8.8.8.8; }; allow-query { any; }; dnssec-validation auto; listen-on-v6 { any; }; }; Configuration de l'esclave \u00b6 vi /etc/bind/named.conf.local zone \"mandriva.com\" { type slave; file \"slave/db.mandriva.ca\"; masters { 10.0.1.2; }; }; zone \"1.0.10.in-addr.arpa\" { type slave; file \"slave/db.10.0.1.0.rev\"; masters { 10.0.1.2; }; }; mkdir /var/cache/bind/slave chown -R bind:bind /var/cache/bind/slave Commande de Debug \u00b6 named -g","title":"Installation d'un DNS avec Bind"},{"location":"UNIX/DNS-BIND/#installation-dun-dns-avec-bind","text":"","title":"Installation d'un DNS avec Bind"},{"location":"UNIX/DNS-BIND/#declaration-des-zones","text":"vi /etc/bind/named.conf.local // Domaine mandriva.com zone \"mandriva.com\" { type master; file \"db.mandriva.com\"; allow-transfer { 10.0.1.3; }; }; // Zone inverser du r\u00e9seau 10.0.1.0 zone \"1.0.10.in-addr.arpa\" { type master; file \"db.10.0.1.0.rev\" allow-transfer { 10.0.1.3; }; };","title":"D\u00e9claration des zones:"},{"location":"UNIX/DNS-BIND/#creation-des-zones","text":"vi /var/cache/bind/db.mandriva.com $TTL 86400 @ IN SOA ns1.mandriva.com. ns2.mandriva.com. ( 2022092001 ; Serial 3600 ; Refresh [1h] 600 ; Retry [10m] 86400 ; Expire [1d] 600 ) ; Negative Cache TTL [1h] @ IN NS ns1.mandriva.com. @ IN NS ns2.mandriva.com. @ IN A 10.0.1.1 ns1 IN A 10.0.1.2 ns2 IN A 10.0.1.3 www IN CNAME mandriva.com.","title":"Cr\u00e9ation des zones:"},{"location":"UNIX/DNS-BIND/#zone-inverser","text":"vi /var/cache/bind/db.10.0.1.0.rev $TTL 86400 @ IN SOA ns1.mandriva.com. ns2.mandriva.com. ( 2022092001 ; Serial 3600 ; Refresh [1h] 600 ; Retry [10m] 86400 ; Expire [1d] 600 ) ; Negative Cache TTL [1h] @ IN NS ns1.mandriva.com. @ IN NS ns2.mandriva.com. 1 IN PTR mandriva.com. 2 IN PTR ns1.mandriva.com. 3 IN PTR ns2.mandriva.com.","title":"Zone inverser"},{"location":"UNIX/DNS-BIND/#mises-en-place-du-forward","text":"vi /etc/bind/named.conf.options options { directory \"/var/cache/bind\"; // Forward sur le DNS 8.8.8.8 forwarders { 8.8.8.8; }; allow-query { any; }; dnssec-validation auto; listen-on-v6 { any; }; };","title":"Mises en place du Forward"},{"location":"UNIX/DNS-BIND/#configuration-de-lesclave","text":"vi /etc/bind/named.conf.local zone \"mandriva.com\" { type slave; file \"slave/db.mandriva.ca\"; masters { 10.0.1.2; }; }; zone \"1.0.10.in-addr.arpa\" { type slave; file \"slave/db.10.0.1.0.rev\"; masters { 10.0.1.2; }; }; mkdir /var/cache/bind/slave chown -R bind:bind /var/cache/bind/slave","title":"Configuration de l'esclave"},{"location":"UNIX/DNS-BIND/#commande-de-debug","text":"named -g","title":"Commande de Debug"},{"location":"UNIX/DNS-CAA-Lets-Encrypt/","text":"Installation \u00b6 Pour activer le DNS CAA c'est tr\u00e8s simple c'est juste une ligne DNS \u00e0 rajouter voici la configuration \u00e0 faire: V\u00e9rification: \u00b6 dig minzord.eu.org ; <<>> DiG 9.11.5-P4-5.1-Debian <<>> CAA minzord.eu.org ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 60398 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 5, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 1280 ;; QUESTION SECTION: ;minzord.eu.org. IN CAA ;; ANSWER SECTION: minzord.eu.org. 1800 IN CAA 0 issue \"letsencrypt.org\" dns caa Let's Encrypt","title":"Activer le DNS CAA avec Let's Encrypt"},{"location":"UNIX/DNS-CAA-Lets-Encrypt/#installation","text":"Pour activer le DNS CAA c'est tr\u00e8s simple c'est juste une ligne DNS \u00e0 rajouter voici la configuration \u00e0 faire:","title":"Installation"},{"location":"UNIX/DNS-CAA-Lets-Encrypt/#verification","text":"dig minzord.eu.org ; <<>> DiG 9.11.5-P4-5.1-Debian <<>> CAA minzord.eu.org ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 60398 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 5, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 1280 ;; QUESTION SECTION: ;minzord.eu.org. IN CAA ;; ANSWER SECTION: minzord.eu.org. 1800 IN CAA 0 issue \"letsencrypt.org\" dns caa Let's Encrypt","title":"V\u00e9rification:"},{"location":"UNIX/Debian-OpenRC/","text":"Installation d'OpenRC \u00b6 apt install openrc sysvinit-core Red\u00e9marrer, vous devriez d\u00e9marrer sur OpenRC. Suppression compl\u00e8te de Systemd \u00b6 apt remove systemd* Debian avec OpenRC en action \u00b6","title":"Changer l'Init de Debian pour OpenRC"},{"location":"UNIX/Debian-OpenRC/#installation-dopenrc","text":"apt install openrc sysvinit-core Red\u00e9marrer, vous devriez d\u00e9marrer sur OpenRC.","title":"Installation d'OpenRC"},{"location":"UNIX/Debian-OpenRC/#suppression-complete-de-systemd","text":"apt remove systemd*","title":"Suppression compl\u00e8te de Systemd"},{"location":"UNIX/Debian-OpenRC/#debian-avec-openrc-en-action","text":"","title":"Debian avec OpenRC en action"},{"location":"UNIX/HA-MySQL/","text":"HA sur MySQL \u00b6 Dans cet exemple, la base r\u00e9pliqu\u00e9 sera qwerty. Ajout de la d\u00e9tection pour l'IP FO \u00b6 crm configure group servsql IPFailover serveursql meta migration-threshold=\"5\" Cr\u00e9ation d'un compte SQL \u00b6 CREATE USER 'ha'@'%' IDENTIFIED BY 'qwerty123'; GRANT REPLICATION SLAVE ON *.* TO 'ha'@'%'; FLUSH PRIVILEGES; EXIT; Configuration de MySQL \u00b6 vi /etc/mysql/mariadb.conf.d/50-server.cnf [mysqld] user = mysql pid-file = /run/mysqld/mysqld.pid basedir = /usr datadir = /var/lib/mysql tmpdir = /tmp lc-messages-dir = /usr/share/mysql lc-messages = en_US skip-external-locking character-set-server = utf8mb4 collation-server = utf8mb4_general_ci log_error = /var/log/mysql/error.log server-id = 100 log_bin = /var/log/mysql/mysql-bin.log log-slave-updates expire_logs_days = 10 max_binlog_size = 100M binlog_do_db = gsb_valide master-retry-count = 20 replicate-do-db = gsb_valide Red\u00e9marrer Mysql \u00b6 /etc/init.d/mysql restart Bloquer l'\u00e9criture \u00b6 mysql -p FLUSH TABLES WITH READ LOCK; Voir la position. \u00b6 show master status; Configuration de l'esclave \u00b6 vi /etc/mysql/mariadb.conf.d/50-server.cnf [mysqld] user = mysql pid-file = /run/mysqld/mysqld.pid basedir = /usr datadir = /var/lib/mysql tmpdir = /tmp lc-messages-dir = /usr/share/mysql lc-messages = en_US skip-external-locking character-set-server = utf8mb4 collation-server = utf8mb4_general_ci log_error = /var/log/mysql/error.log log_bin = /var/log/mysql/mysql-bin.log log-slave-updates server-id = 104 expire_logs_days = 10 max_binlog_size = 100M master-retry-count = 20 replicate-do-db = qwerty binlog_do_db = qwerty Red\u00e9marrer Mysql \u00b6 /etc/init.d/mysql restart Arr\u00eat\u00e9 l'esclave \u00b6 STOP SLAVE; D\u00e9finition de l'esclave sur Mysql \u00b6 mysql -p CHANGE MASTER TO MASTER_HOST='10.0.1.10', MASTER_USER='ha', MASTER_PASSWORD='qwerty123', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=328; START SLAVE; EXIT; R\u00e9activer l'\u00e9criture sur le ma\u00eetre \u00b6 mysql -p UNLOCK TABLES; EXIT; V\u00e9rification \u00b6 SHOW MASTER STATUS; Sur le ma\u00eetre. Switch Automatique Ma\u00eetre/Esclave \u00b6 Sur l'esclave \u00b6 GRANT REPLICATION SLAVE ON *.* TO 'ha'@'%' IDENTIFIED BY 'qwerty123' Sur le ma\u00eetre \u00b6 CHANGE MASTER TO MASTER_HOST='10.0.1.10', MASTER_USER='ha', MASTER_PASSWORD='qwerty123', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=526; Sur l'esclave \u00b6 CHANGE MASTER TO MASTER_HOST='10.0.1.11', MASTER_USER='ha', MASTER_PASSWORD='qwerty123', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=526; Ajout au cluster \u00b6 crm configure primitive serviceMySQL ocf:heartbeat:mysql params socket=/var/run/mysqld/mysqld.sock crm configure clone cServiceMySQL serviceMySQL","title":"HA sur MySQL"},{"location":"UNIX/HA-MySQL/#ha-sur-mysql","text":"Dans cet exemple, la base r\u00e9pliqu\u00e9 sera qwerty.","title":"HA sur MySQL"},{"location":"UNIX/HA-MySQL/#ajout-de-la-detection-pour-lip-fo","text":"crm configure group servsql IPFailover serveursql meta migration-threshold=\"5\"","title":"Ajout de la d\u00e9tection pour l'IP FO"},{"location":"UNIX/HA-MySQL/#creation-dun-compte-sql","text":"CREATE USER 'ha'@'%' IDENTIFIED BY 'qwerty123'; GRANT REPLICATION SLAVE ON *.* TO 'ha'@'%'; FLUSH PRIVILEGES; EXIT;","title":"Cr\u00e9ation d'un compte SQL"},{"location":"UNIX/HA-MySQL/#configuration-de-mysql","text":"vi /etc/mysql/mariadb.conf.d/50-server.cnf [mysqld] user = mysql pid-file = /run/mysqld/mysqld.pid basedir = /usr datadir = /var/lib/mysql tmpdir = /tmp lc-messages-dir = /usr/share/mysql lc-messages = en_US skip-external-locking character-set-server = utf8mb4 collation-server = utf8mb4_general_ci log_error = /var/log/mysql/error.log server-id = 100 log_bin = /var/log/mysql/mysql-bin.log log-slave-updates expire_logs_days = 10 max_binlog_size = 100M binlog_do_db = gsb_valide master-retry-count = 20 replicate-do-db = gsb_valide","title":"Configuration de MySQL"},{"location":"UNIX/HA-MySQL/#redemarrer-mysql","text":"/etc/init.d/mysql restart","title":"Red\u00e9marrer Mysql"},{"location":"UNIX/HA-MySQL/#bloquer-lecriture","text":"mysql -p FLUSH TABLES WITH READ LOCK;","title":"Bloquer l'\u00e9criture"},{"location":"UNIX/HA-MySQL/#voir-la-position","text":"show master status;","title":"Voir la position."},{"location":"UNIX/HA-MySQL/#configuration-de-lesclave","text":"vi /etc/mysql/mariadb.conf.d/50-server.cnf [mysqld] user = mysql pid-file = /run/mysqld/mysqld.pid basedir = /usr datadir = /var/lib/mysql tmpdir = /tmp lc-messages-dir = /usr/share/mysql lc-messages = en_US skip-external-locking character-set-server = utf8mb4 collation-server = utf8mb4_general_ci log_error = /var/log/mysql/error.log log_bin = /var/log/mysql/mysql-bin.log log-slave-updates server-id = 104 expire_logs_days = 10 max_binlog_size = 100M master-retry-count = 20 replicate-do-db = qwerty binlog_do_db = qwerty","title":"Configuration de l'esclave"},{"location":"UNIX/HA-MySQL/#redemarrer-mysql_1","text":"/etc/init.d/mysql restart","title":"Red\u00e9marrer Mysql"},{"location":"UNIX/HA-MySQL/#arrete-lesclave","text":"STOP SLAVE;","title":"Arr\u00eat\u00e9 l'esclave"},{"location":"UNIX/HA-MySQL/#definition-de-lesclave-sur-mysql","text":"mysql -p CHANGE MASTER TO MASTER_HOST='10.0.1.10', MASTER_USER='ha', MASTER_PASSWORD='qwerty123', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=328; START SLAVE; EXIT;","title":"D\u00e9finition de l'esclave sur Mysql"},{"location":"UNIX/HA-MySQL/#reactiver-lecriture-sur-le-maitre","text":"mysql -p UNLOCK TABLES; EXIT;","title":"R\u00e9activer l'\u00e9criture sur le ma\u00eetre"},{"location":"UNIX/HA-MySQL/#verification","text":"SHOW MASTER STATUS; Sur le ma\u00eetre.","title":"V\u00e9rification"},{"location":"UNIX/HA-MySQL/#switch-automatique-maitreesclave","text":"","title":"Switch Automatique Ma\u00eetre/Esclave"},{"location":"UNIX/HA-MySQL/#sur-lesclave","text":"GRANT REPLICATION SLAVE ON *.* TO 'ha'@'%' IDENTIFIED BY 'qwerty123'","title":"Sur l'esclave"},{"location":"UNIX/HA-MySQL/#sur-le-maitre","text":"CHANGE MASTER TO MASTER_HOST='10.0.1.10', MASTER_USER='ha', MASTER_PASSWORD='qwerty123', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=526;","title":"Sur le ma\u00eetre"},{"location":"UNIX/HA-MySQL/#sur-lesclave_1","text":"CHANGE MASTER TO MASTER_HOST='10.0.1.11', MASTER_USER='ha', MASTER_PASSWORD='qwerty123', MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=526;","title":"Sur l'esclave"},{"location":"UNIX/HA-MySQL/#ajout-au-cluster","text":"crm configure primitive serviceMySQL ocf:heartbeat:mysql params socket=/var/run/mysqld/mysqld.sock crm configure clone cServiceMySQL serviceMySQL","title":"Ajout au cluster"},{"location":"UNIX/HTTPS/","text":"Serveur CA \u00b6 Config d'OpenSSL \u00b6 vi /etc/openssl/openssl.cnf dir /etc/ssl Cr\u00e9ation des dossiers \u00b6 mkdir /etc/ssl/newcerts touch /etc/ssl/index.txt echo \"01\" > /etc/ssl/serial Cr\u00e9ation de la cl\u00e9 RSA priv\u00e9e \u00b6 openssl genrsa -des3 -out /etc/ssl/private/cakey.pem 4096 Cr\u00e9ation du Certificat d'Autorit\u00e9 \u00b6 openssl req -new -x509 -days 365 -key /etc/ssl/private/cakey.pem -out /etc/ssl/private/cacert.pem Serveur Web \u00b6 Cr\u00e9ation de la cl\u00e9 RSA priv\u00e9e \u00b6 openssl genrsa -out /etc/ssl/private/webkey.pem 4096 Demand\u00e9 le certificat \u00b6 openssl req -new -key /etc/ssl/private/webkey.pem -out /etc/ssl/web_dem.pem Envoi du certificat \u00b6 scp web_dem.pem root@172.16.0.20:/root Server CA \u00b6 Signer le certificat \u00b6 openssl ca -policy policy_anything -out /etc/ssl/certs/servwebcert.pem -infiles /root/web_dem.pem Configuration d'Apache \u00b6 <VirtualHost *:80> RewriteEngine On RewriteCond %{HTTPS} !=on RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,L] </VirtualHost> <IfModule mod_ssl.c> <VirtualHost _default_:443> ServerName domaine.local ServerAdmin webmaster@domaine.local DocumentRoot /var/www/website ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined SSLEngine on SSLCertificateFile /etc/ssl/certs/servwebcert.pem SSLCertificateKeyFile /etc/ssl/private/webkey.pem </VirtualHost> </IfModule> # vim: syntax=apache ts=4 sw=4 sts=4 sr noet","title":"Cr\u00e9ation de l'Autorit\u00e9 de certification + HTTPS"},{"location":"UNIX/HTTPS/#serveur-ca","text":"","title":"Serveur CA"},{"location":"UNIX/HTTPS/#config-dopenssl","text":"vi /etc/openssl/openssl.cnf dir /etc/ssl","title":"Config d'OpenSSL"},{"location":"UNIX/HTTPS/#creation-des-dossiers","text":"mkdir /etc/ssl/newcerts touch /etc/ssl/index.txt echo \"01\" > /etc/ssl/serial","title":"Cr\u00e9ation des dossiers"},{"location":"UNIX/HTTPS/#creation-de-la-cle-rsa-privee","text":"openssl genrsa -des3 -out /etc/ssl/private/cakey.pem 4096","title":"Cr\u00e9ation de la cl\u00e9 RSA priv\u00e9e"},{"location":"UNIX/HTTPS/#creation-du-certificat-dautorite","text":"openssl req -new -x509 -days 365 -key /etc/ssl/private/cakey.pem -out /etc/ssl/private/cacert.pem","title":"Cr\u00e9ation du Certificat d'Autorit\u00e9"},{"location":"UNIX/HTTPS/#serveur-web","text":"","title":"Serveur Web"},{"location":"UNIX/HTTPS/#creation-de-la-cle-rsa-privee_1","text":"openssl genrsa -out /etc/ssl/private/webkey.pem 4096","title":"Cr\u00e9ation de la cl\u00e9 RSA priv\u00e9e"},{"location":"UNIX/HTTPS/#demande-le-certificat","text":"openssl req -new -key /etc/ssl/private/webkey.pem -out /etc/ssl/web_dem.pem","title":"Demand\u00e9 le certificat"},{"location":"UNIX/HTTPS/#envoi-du-certificat","text":"scp web_dem.pem root@172.16.0.20:/root","title":"Envoi du certificat"},{"location":"UNIX/HTTPS/#server-ca","text":"","title":"Server CA"},{"location":"UNIX/HTTPS/#signer-le-certificat","text":"openssl ca -policy policy_anything -out /etc/ssl/certs/servwebcert.pem -infiles /root/web_dem.pem","title":"Signer le certificat"},{"location":"UNIX/HTTPS/#configuration-dapache","text":"<VirtualHost *:80> RewriteEngine On RewriteCond %{HTTPS} !=on RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,L] </VirtualHost> <IfModule mod_ssl.c> <VirtualHost _default_:443> ServerName domaine.local ServerAdmin webmaster@domaine.local DocumentRoot /var/www/website ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined SSLEngine on SSLCertificateFile /etc/ssl/certs/servwebcert.pem SSLCertificateKeyFile /etc/ssl/private/webkey.pem </VirtualHost> </IfModule> # vim: syntax=apache ts=4 sw=4 sts=4 sr noet","title":"Configuration d'Apache"},{"location":"UNIX/IPFailover-Corosync/","text":"Cr\u00e9er une IPFailover sur Corosync \u00b6 L'ip failover sera 10.0.1.3/24 et l'interface r\u00e9seau est ens32 . Ajouter de l'IPFailover \u00b6 crm configure primitive IPFailover ocf:heartbeat:IPaddr2 params ip=10.0.1.3 cidr_netmask=24 nic=ens32 iflabel=VIP D\u00e9placer manuellement l'ip sur l'autre serveur \u00b6 crm resource move IPFailover serv2 Ajout du serveur Web Apache sur Corosync \u00b6 crm configure primitive serviceWeb lsb:apache2 op monitor interval=60s op start interval=0 timeout=60s op stop interval=0 timeout=60s Corosync va regarder toutes les 60 secondes le status d'apache. Grouper les ressources \u00b6 crm configure group servweb IPFailover serviceWeb meta migration-threshold=\"5\"","title":"Cr\u00e9er une IPFailover sur Corosync"},{"location":"UNIX/IPFailover-Corosync/#creer-une-ipfailover-sur-corosync","text":"L'ip failover sera 10.0.1.3/24 et l'interface r\u00e9seau est ens32 .","title":"Cr\u00e9er une IPFailover sur Corosync"},{"location":"UNIX/IPFailover-Corosync/#ajouter-de-lipfailover","text":"crm configure primitive IPFailover ocf:heartbeat:IPaddr2 params ip=10.0.1.3 cidr_netmask=24 nic=ens32 iflabel=VIP","title":"Ajouter de l'IPFailover"},{"location":"UNIX/IPFailover-Corosync/#deplacer-manuellement-lip-sur-lautre-serveur","text":"crm resource move IPFailover serv2","title":"D\u00e9placer manuellement l'ip sur l'autre serveur"},{"location":"UNIX/IPFailover-Corosync/#ajout-du-serveur-web-apache-sur-corosync","text":"crm configure primitive serviceWeb lsb:apache2 op monitor interval=60s op start interval=0 timeout=60s op stop interval=0 timeout=60s Corosync va regarder toutes les 60 secondes le status d'apache.","title":"Ajout du serveur Web Apache sur Corosync"},{"location":"UNIX/IPFailover-Corosync/#grouper-les-ressources","text":"crm configure group servweb IPFailover serviceWeb meta migration-threshold=\"5\"","title":"Grouper les ressources"},{"location":"UNIX/Interface-Virtuel/","text":"Introduction \u00b6 Cette mani\u00e8re de cr\u00e9er une interface r\u00e9seau virtuel est la m\u00eame sur tout les BSD (OpenBSD,NetBSD,FreeBSD) Dans cet exemple, je vais cr\u00e9er une interface avec l'IP 10.0.3.254/24 sans passerelle. Cr\u00e9ation de l'interface de mani\u00e8re temporaire \u00b6 ifconfig vether0 create ifconfig vether0 inet 10.0.3.254 netmask 255.255.255.0 Cr\u00e9ation de l'interface de mani\u00e8re permanente \u00b6 vi /etc/hostname.vether0 inet 10.0.3.254 255.255.255.0 NONE","title":"Cr\u00e9er une interface r\u00e9seau virtuel sur BSD"},{"location":"UNIX/Interface-Virtuel/#introduction","text":"Cette mani\u00e8re de cr\u00e9er une interface r\u00e9seau virtuel est la m\u00eame sur tout les BSD (OpenBSD,NetBSD,FreeBSD) Dans cet exemple, je vais cr\u00e9er une interface avec l'IP 10.0.3.254/24 sans passerelle.","title":"Introduction"},{"location":"UNIX/Interface-Virtuel/#creation-de-linterface-de-maniere-temporaire","text":"ifconfig vether0 create ifconfig vether0 inet 10.0.3.254 netmask 255.255.255.0","title":"Cr\u00e9ation de l'interface de mani\u00e8re temporaire"},{"location":"UNIX/Interface-Virtuel/#creation-de-linterface-de-maniere-permanente","text":"vi /etc/hostname.vether0 inet 10.0.3.254 255.255.255.0 NONE","title":"Cr\u00e9ation de l'interface de mani\u00e8re permanente"},{"location":"UNIX/LEMP/","text":"Installation d'un serveur LEMP \u00b6 Introduction: \u00b6 La pile logicielle LEMP est un groupe de logiciels pouvant servir \u00e0 g\u00e9rer des pages Web dynamiques et des applications Web. Le nom \u00abLEMP\u00bb est un acronyme qui d\u00e9crit un syst\u00e8me d\u2019exploitation L inux, avec un serveur Web ( E ) Nginx. Les donn\u00e9es de base sont stock\u00e9es dans une base de donn\u00e9es M ariaDB et le traitement dynamique est g\u00e9r\u00e9 par P HP. Bien que cette pile logicielle inclue g\u00e9n\u00e9ralement * MySQL * en tant que syst\u00e8me de gestion de base de donn\u00e9es, certaines distributions Linux, y compris Debian, utilisent https://mariadb.org en remplacement imm\u00e9diat de MySQL. Dans ce guide, vous allez installer une pile LEMP sur un serveur Debian 10 en utilisant MariaDB comme syst\u00e8me de gestion de base de donn\u00e9es. Mises \u00e0 jours du syst\u00e8me: \u00b6 Nous allons mettre \u00e0 jour le syst\u00e8me pour profiter des derniers correctifs et d\u00e8s derni\u00e8re mises \u00e0 jour de s\u00e9curiser. Il suffit d'excuter cette commande. apt update && apt upgrade Installation du Serveur Web (Nginx): \u00b6 Voici le r\u00f4le d'un serveur Web en images, pour plus d'informations: C'est ici {.is-info} Nous allons maintenant installer Nginx. apt install nginx Si vous voulez rendrez sur localhost ou sur votre ip de votre vps/d\u00e9di\u00e9 vous allez voir que nginx est d\u00e9ja pr\u00eat. Installation de la base de donn\u00e9e (MariaDB) \u00b6 Nous allons donc installer MariaBD. apt install mariadb-server Nous allons donc s\u00e9curiser Mariadb (changement de mots de passe etc...) mysql_secure_installation Il vous sera demand\u00e9 d'entrer le mot de passe du compte root de MySQL. Nous ne l'avons pas encore d\u00e9fini, alors appuyez simplement sur ENTR\u00c9E. On vous demandera ensuite si vous voulez d\u00e9finir ce mot de passe. Vous devez taper y puis d\u00e9finir un mot de passe root. Pour le reste des questions que le script vous pose, vous devez appuyer sur y, suivi de la touche ENTER \u00e0 chaque invite. Cela supprimera certains utilisateurs anonymes et la base de donn\u00e9es de test, d\u00e9sactivera les connexions distantes \u00e0 la racine et chargera ces nouvelles r\u00e8gles afin que MySQL respecte imm\u00e9diatement les modifications que vous avez apport\u00e9es. \u00c0 ce stade, votre syst\u00e8me de base de donn\u00e9es est maintenant configur\u00e9 et s\u00e9curis\u00e9. Installation de PHP: \u00b6 Nous avons le serveur Web, et la base de donn\u00e9es il nous manque plus que Php, nous allons donc l'installer. apt install php-fpm php-mysql php-xml php-intl php-bz2 php-bcmath php-curl php-date php-zip Voil\u00e0 PHP est install\u00e9 il nous reste plus qu'a le configur\u00e9 Configuration de PHP pour Nginx: \u00b6 Nous allons faire notre propre configuration, on va donc supprimer la configuration par d\u00e9faut. rm -r /var/www/html /etc/nginx/sites-available/default /etc/nginx/sites-enabled/default Nous allons maintenant cr\u00e9er la n\u00f4tre: (Remplacer {monsite.domain} par votre site ou un nom). mkdir /var/www/{monsite.domain} nano /etc/nginx/sites-available/{monsite.domain} Bien maintenant vous allez copier cette configuration: (Remplacer {monsite.domain} par votre site ou un nom). server { listen 80; listen [::]:80; server_name {monsite.domain}; root /var/www/{monsite.domain}; index index.php; gzip off; location / { try_files $uri $uri/ =404; } location ~ \\.php$ { try_files $uri =404; fastcgi_pass unix:/var/run/php/php7.3-fpm.sock; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $request_filename; } } Nous allons donc activer cette configuration: ln -sf /etc/nginx/sites-available/{monsite.domain} /etc/nginx/sites-enabled/{monsite.domain} Et on red\u00e9marre Nginx. systemctl restart nginx Votre Serveur LEMP est maintenant Installer.","title":"Installation d'un serveur LEMP"},{"location":"UNIX/LEMP/#installation-dun-serveur-lemp","text":"","title":"Installation d'un serveur LEMP"},{"location":"UNIX/LEMP/#introduction","text":"La pile logicielle LEMP est un groupe de logiciels pouvant servir \u00e0 g\u00e9rer des pages Web dynamiques et des applications Web. Le nom \u00abLEMP\u00bb est un acronyme qui d\u00e9crit un syst\u00e8me d\u2019exploitation L inux, avec un serveur Web ( E ) Nginx. Les donn\u00e9es de base sont stock\u00e9es dans une base de donn\u00e9es M ariaDB et le traitement dynamique est g\u00e9r\u00e9 par P HP. Bien que cette pile logicielle inclue g\u00e9n\u00e9ralement * MySQL * en tant que syst\u00e8me de gestion de base de donn\u00e9es, certaines distributions Linux, y compris Debian, utilisent https://mariadb.org en remplacement imm\u00e9diat de MySQL. Dans ce guide, vous allez installer une pile LEMP sur un serveur Debian 10 en utilisant MariaDB comme syst\u00e8me de gestion de base de donn\u00e9es.","title":"Introduction:"},{"location":"UNIX/LEMP/#mises-a-jours-du-systeme","text":"Nous allons mettre \u00e0 jour le syst\u00e8me pour profiter des derniers correctifs et d\u00e8s derni\u00e8re mises \u00e0 jour de s\u00e9curiser. Il suffit d'excuter cette commande. apt update && apt upgrade","title":"Mises \u00e0 jours du syst\u00e8me:"},{"location":"UNIX/LEMP/#installation-du-serveur-web-nginx","text":"Voici le r\u00f4le d'un serveur Web en images, pour plus d'informations: C'est ici {.is-info} Nous allons maintenant installer Nginx. apt install nginx Si vous voulez rendrez sur localhost ou sur votre ip de votre vps/d\u00e9di\u00e9 vous allez voir que nginx est d\u00e9ja pr\u00eat.","title":"Installation du Serveur Web (Nginx):"},{"location":"UNIX/LEMP/#installation-de-la-base-de-donnee-mariadb","text":"Nous allons donc installer MariaBD. apt install mariadb-server Nous allons donc s\u00e9curiser Mariadb (changement de mots de passe etc...) mysql_secure_installation Il vous sera demand\u00e9 d'entrer le mot de passe du compte root de MySQL. Nous ne l'avons pas encore d\u00e9fini, alors appuyez simplement sur ENTR\u00c9E. On vous demandera ensuite si vous voulez d\u00e9finir ce mot de passe. Vous devez taper y puis d\u00e9finir un mot de passe root. Pour le reste des questions que le script vous pose, vous devez appuyer sur y, suivi de la touche ENTER \u00e0 chaque invite. Cela supprimera certains utilisateurs anonymes et la base de donn\u00e9es de test, d\u00e9sactivera les connexions distantes \u00e0 la racine et chargera ces nouvelles r\u00e8gles afin que MySQL respecte imm\u00e9diatement les modifications que vous avez apport\u00e9es. \u00c0 ce stade, votre syst\u00e8me de base de donn\u00e9es est maintenant configur\u00e9 et s\u00e9curis\u00e9.","title":"Installation de la base de donn\u00e9e (MariaDB)"},{"location":"UNIX/LEMP/#installation-de-php","text":"Nous avons le serveur Web, et la base de donn\u00e9es il nous manque plus que Php, nous allons donc l'installer. apt install php-fpm php-mysql php-xml php-intl php-bz2 php-bcmath php-curl php-date php-zip Voil\u00e0 PHP est install\u00e9 il nous reste plus qu'a le configur\u00e9","title":"Installation de PHP:"},{"location":"UNIX/LEMP/#configuration-de-php-pour-nginx","text":"Nous allons faire notre propre configuration, on va donc supprimer la configuration par d\u00e9faut. rm -r /var/www/html /etc/nginx/sites-available/default /etc/nginx/sites-enabled/default Nous allons maintenant cr\u00e9er la n\u00f4tre: (Remplacer {monsite.domain} par votre site ou un nom). mkdir /var/www/{monsite.domain} nano /etc/nginx/sites-available/{monsite.domain} Bien maintenant vous allez copier cette configuration: (Remplacer {monsite.domain} par votre site ou un nom). server { listen 80; listen [::]:80; server_name {monsite.domain}; root /var/www/{monsite.domain}; index index.php; gzip off; location / { try_files $uri $uri/ =404; } location ~ \\.php$ { try_files $uri =404; fastcgi_pass unix:/var/run/php/php7.3-fpm.sock; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $request_filename; } } Nous allons donc activer cette configuration: ln -sf /etc/nginx/sites-available/{monsite.domain} /etc/nginx/sites-enabled/{monsite.domain} Et on red\u00e9marre Nginx. systemctl restart nginx Votre Serveur LEMP est maintenant Installer.","title":"Configuration de PHP pour Nginx:"},{"location":"UNIX/RIP-Bird/","text":"Installation sur Debian. \u00b6 apt install bird systemctl enable --now bird Configuration de Bird \u00b6 vi /etc/bird/bird.conf protocol kernel { persist; # Don\u2019t remove routes on BIRD shutdown scan time 20; # Scan kernel routing table every 20 seconds export all; # Default is export none } protocol device { scan time 10; # Scan interfaces every 10 seconds } protocol direct { # Export all directly connected network export all; } protocol rip { # Add RIP Procotol export all; # Export All route import all; # Import All route interface \"*\"{ # Listen on every interface mode broadcast; }; } Commande utile \u00b6 Acc\u00e8s au terminal de Bird: birdc Voir le status des protocoles sh protocols all - Voir les routes sh route","title":"Installation sur Debian."},{"location":"UNIX/RIP-Bird/#installation-sur-debian","text":"apt install bird systemctl enable --now bird","title":"Installation sur Debian."},{"location":"UNIX/RIP-Bird/#configuration-de-bird","text":"vi /etc/bird/bird.conf protocol kernel { persist; # Don\u2019t remove routes on BIRD shutdown scan time 20; # Scan kernel routing table every 20 seconds export all; # Default is export none } protocol device { scan time 10; # Scan interfaces every 10 seconds } protocol direct { # Export all directly connected network export all; } protocol rip { # Add RIP Procotol export all; # Export All route import all; # Import All route interface \"*\"{ # Listen on every interface mode broadcast; }; }","title":"Configuration de Bird"},{"location":"UNIX/RIP-Bird/#commande-utile","text":"Acc\u00e8s au terminal de Bird: birdc Voir le status des protocoles sh protocols all - Voir les routes sh route","title":"Commande utile"},{"location":"UNIX/configuration-des-depots-de-mandriva/","text":"Configuration des d\u00e9pots de Mandriva pour mettre \u00e0 jour le syst\u00e8me et pouvoir installer des logiciels \u00b6 Remplacer les d\u00e9pots de Mandriva \u00b6 urpmi.removemedia -a export ARCH=`uname -m` export VERSION=`cat /etc/mandriva-release | cut -d' ' -f4 | cut -d'.' -f1` urpmi.addmedia --distrib http://distrib-coffee.ipsl.jussieu.fr/pub/linux/MandrivaLinux/official/$VERSION/$ARCH/ Mettre \u00e0 jour le syst\u00e8me \u00b6 urpmi --replacefiles --auto-update --auto","title":"Configuration des d\u00e9pots de Mandriva pour mettre \u00e0 jour le syst\u00e8me et pouvoir installer des logiciels"},{"location":"UNIX/configuration-des-depots-de-mandriva/#configuration-des-depots-de-mandriva-pour-mettre-a-jour-le-systeme-et-pouvoir-installer-des-logiciels","text":"","title":"Configuration des d\u00e9pots de Mandriva pour mettre \u00e0 jour le syst\u00e8me et pouvoir installer des logiciels"},{"location":"UNIX/configuration-des-depots-de-mandriva/#remplacer-les-depots-de-mandriva","text":"urpmi.removemedia -a export ARCH=`uname -m` export VERSION=`cat /etc/mandriva-release | cut -d' ' -f4 | cut -d'.' -f1` urpmi.addmedia --distrib http://distrib-coffee.ipsl.jussieu.fr/pub/linux/MandrivaLinux/official/$VERSION/$ARCH/","title":"Remplacer les d\u00e9pots de Mandriva"},{"location":"UNIX/configuration-des-depots-de-mandriva/#mettre-a-jour-le-systeme","text":"urpmi --replacefiles --auto-update --auto","title":"Mettre \u00e0 jour le syst\u00e8me"},{"location":"UNIX/installation-portainerio/","text":"Installation de Portainer.io \u00b6 Cr\u00e9ation du Volume portainer_data : \u00b6 docker volume create portainer_data Cr\u00e9ation du conteneur portainer avec un d\u00e9marrage automatique qui va utiliser le volume portainer_data : \u00b6 docker run -d -p 9000:9000 -p 8000:8000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce Acc\u00e8s \u00b6 Votre Portainer est install\u00e9 vous pouvez y acc\u00e9der \u00e0 l'adresse http://monip::9000/","title":"Installation de Portainer.io"},{"location":"UNIX/installation-portainerio/#installation-de-portainerio","text":"","title":"Installation de Portainer.io"},{"location":"UNIX/installation-portainerio/#creation-du-volume-portainer_data","text":"docker volume create portainer_data","title":"Cr\u00e9ation du Volume portainer_data :"},{"location":"UNIX/installation-portainerio/#creation-du-conteneur-portainer-avec-un-demarrage-automatique-qui-va-utiliser-le-volume-portainer_data","text":"docker run -d -p 9000:9000 -p 8000:8000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce","title":"Cr\u00e9ation du conteneur portainer avec un d\u00e9marrage automatique qui va utiliser le volume portainer_data :"},{"location":"UNIX/installation-portainerio/#acces","text":"Votre Portainer est install\u00e9 vous pouvez y acc\u00e9der \u00e0 l'adresse http://monip::9000/","title":"Acc\u00e8s"},{"location":"UNIX/mises-a-jours-avec-ansible/","text":"Mises \u00e0 jours avec Ansible \u00b6 Debian/Ubuntu: \u00b6 ansible ubuntu -m apt -a \"upgrade=yes update_cache=yes\" -b RHEL 8 / Fedora / Mageia / OpenMandriva (DNF): \u00b6 ansible rhel8 -m dnf -a \"name=* state=latest\" -b RHEL 6/7 / Fedora (YUM): \u00b6 ansible rhel7 -m yum -a \"name=* state=latest\" -b OpenSuse / Suse: \u00b6 ansible opensuse -m zypper -a \"name=* state=latest update_cache=yes\" -b ArchLinux: \u00b6 ansible archlinux -m raw -a \"pacman -Syu -y\" FreeBSD: \u00b6 ansible freebsd -m raw -a \"pkg update && pkg upgrade -y\" Red\u00e9marrage: \u00b6 ansible all -a \"reboot\" -s","title":"Mises \u00e0 jours avec Ansible"},{"location":"UNIX/mises-a-jours-avec-ansible/#mises-a-jours-avec-ansible","text":"","title":"Mises \u00e0 jours avec Ansible"},{"location":"UNIX/mises-a-jours-avec-ansible/#debianubuntu","text":"ansible ubuntu -m apt -a \"upgrade=yes update_cache=yes\" -b","title":"Debian/Ubuntu:"},{"location":"UNIX/mises-a-jours-avec-ansible/#rhel-8-fedora-mageia-openmandriva-dnf","text":"ansible rhel8 -m dnf -a \"name=* state=latest\" -b","title":"RHEL 8 / Fedora / Mageia / OpenMandriva (DNF):"},{"location":"UNIX/mises-a-jours-avec-ansible/#rhel-67-fedora-yum","text":"ansible rhel7 -m yum -a \"name=* state=latest\" -b","title":"RHEL 6/7 / Fedora (YUM):"},{"location":"UNIX/mises-a-jours-avec-ansible/#opensuse-suse","text":"ansible opensuse -m zypper -a \"name=* state=latest update_cache=yes\" -b","title":"OpenSuse / Suse:"},{"location":"UNIX/mises-a-jours-avec-ansible/#archlinux","text":"ansible archlinux -m raw -a \"pacman -Syu -y\"","title":"ArchLinux:"},{"location":"UNIX/mises-a-jours-avec-ansible/#freebsd","text":"ansible freebsd -m raw -a \"pkg update && pkg upgrade -y\"","title":"FreeBSD:"},{"location":"UNIX/mises-a-jours-avec-ansible/#redemarrage","text":"ansible all -a \"reboot\" -s","title":"Red\u00e9marrage:"},{"location":"Windows/RADIUS/","text":"Installation des r\u00f4les \u00b6 Installer le r\u00f4le \"Services de certificats Active Directory\" et \"Services de strat\u00e9gie et d'acc\u00e8s r\u00e9seau\" Cr\u00e9ation de l'autorit\u00e9 de certification \u00b6 D\u00e9finir la configuration Radius \u00b6 D\u00e9finir la configuration pour les connexions C\u00e2bl\u00e9es et sans fil Ajouter un Client Radius \u00b6 Configuration Radius \u00b6 -> Configurer 802.1X D\u00e9finir sur Connexion sans fil . D\u00e9finir les groupes autoris\u00e9s Configurer l'autorit\u00e9 de certification","title":"Server Radius"},{"location":"Windows/RADIUS/#installation-des-roles","text":"Installer le r\u00f4le \"Services de certificats Active Directory\" et \"Services de strat\u00e9gie et d'acc\u00e8s r\u00e9seau\"","title":"Installation des r\u00f4les"},{"location":"Windows/RADIUS/#creation-de-lautorite-de-certification","text":"","title":"Cr\u00e9ation de l'autorit\u00e9 de certification"},{"location":"Windows/RADIUS/#definir-la-configuration-radius","text":"D\u00e9finir la configuration pour les connexions C\u00e2bl\u00e9es et sans fil","title":"D\u00e9finir la configuration Radius"},{"location":"Windows/RADIUS/#ajouter-un-client-radius","text":"","title":"Ajouter un Client Radius"},{"location":"Windows/RADIUS/#configuration-radius","text":"-> Configurer 802.1X D\u00e9finir sur Connexion sans fil . D\u00e9finir les groupes autoris\u00e9s Configurer l'autorit\u00e9 de certification","title":"Configuration Radius"},{"location":"Windows/Reseau/","text":"Afficher la configuration compl\u00e8te des cartes r\u00e9seau \u00b6 ipconfig /all Lib\u00e9rer l'IP \u00b6 ipconfig /release Renouveler l'adresse IP \u00b6 ipconfig /renew Afficher le cache DNS \u00b6 ipconfig /displaydns Vider le cache DNS \u00b6 ipconfig /flushdns Afficher les adresses mac \u00b6 getmac /v Afficher la configuration r\u00e9seau \u00b6 netsh interface show interface Config l'IP en DHCP \u00b6 netsh interface ip set address \"Connexion au r\u00e9seau local\" dhcp Config l'IP en manuel \u00b6 IPv4 \u00b6 netsh interface ip set address \"Connexion au r\u00e9seau local\" static 10.1.2.220/24 10.1.2.254 IPv6 \u00b6 netsh interface ipv6 add address \"Connexion au r\u00e9seau local\" 2001:db8:290c:1291::1 Config DNS \u00b6 DNS Primaire \u00b6 IPv4 \u00b6 netsh interface ip set dns name=\"Connexion au r\u00e9seau local\" static 207.164.234.129 IPv6 \u00b6 netsh interface ip set dns name=\"Connexion au r\u00e9seau local\" static 2620:10A:80BB::10 DNS Secondaire \u00b6 netsh interface ip add dns name=\"Connexion au r\u00e9seau local\" 149.112.121.10 index=2 IPv6 \u00b6 netsh interface ip set dns name=\"Connexion au r\u00e9seau local\" static 2620:10A:80BC::10 index=2 Avoir l'ip et l'adresse MAC (ARP) \u00b6 arp -a Tester le DNS \u00b6 nslookup videotron.com","title":"Commandes R\u00e9seau"},{"location":"Windows/Reseau/#afficher-la-configuration-complete-des-cartes-reseau","text":"ipconfig /all","title":"Afficher la configuration compl\u00e8te des cartes r\u00e9seau"},{"location":"Windows/Reseau/#liberer-lip","text":"ipconfig /release","title":"Lib\u00e9rer l'IP"},{"location":"Windows/Reseau/#renouveler-ladresse-ip","text":"ipconfig /renew","title":"Renouveler l'adresse IP"},{"location":"Windows/Reseau/#afficher-le-cache-dns","text":"ipconfig /displaydns","title":"Afficher le cache DNS"},{"location":"Windows/Reseau/#vider-le-cache-dns","text":"ipconfig /flushdns","title":"Vider le cache DNS"},{"location":"Windows/Reseau/#afficher-les-adresses-mac","text":"getmac /v","title":"Afficher les adresses mac"},{"location":"Windows/Reseau/#afficher-la-configuration-reseau","text":"netsh interface show interface","title":"Afficher la configuration r\u00e9seau"},{"location":"Windows/Reseau/#config-lip-en-dhcp","text":"netsh interface ip set address \"Connexion au r\u00e9seau local\" dhcp","title":"Config l'IP en DHCP"},{"location":"Windows/Reseau/#config-lip-en-manuel","text":"","title":"Config l'IP en manuel"},{"location":"Windows/Reseau/#ipv4","text":"netsh interface ip set address \"Connexion au r\u00e9seau local\" static 10.1.2.220/24 10.1.2.254","title":"IPv4"},{"location":"Windows/Reseau/#ipv6","text":"netsh interface ipv6 add address \"Connexion au r\u00e9seau local\" 2001:db8:290c:1291::1","title":"IPv6"},{"location":"Windows/Reseau/#config-dns","text":"","title":"Config DNS"},{"location":"Windows/Reseau/#dns-primaire","text":"","title":"DNS Primaire"},{"location":"Windows/Reseau/#ipv4_1","text":"netsh interface ip set dns name=\"Connexion au r\u00e9seau local\" static 207.164.234.129","title":"IPv4"},{"location":"Windows/Reseau/#ipv6_1","text":"netsh interface ip set dns name=\"Connexion au r\u00e9seau local\" static 2620:10A:80BB::10","title":"IPv6"},{"location":"Windows/Reseau/#dns-secondaire","text":"netsh interface ip add dns name=\"Connexion au r\u00e9seau local\" 149.112.121.10 index=2","title":"DNS Secondaire"},{"location":"Windows/Reseau/#ipv6_2","text":"netsh interface ip set dns name=\"Connexion au r\u00e9seau local\" static 2620:10A:80BC::10 index=2","title":"IPv6"},{"location":"Windows/Reseau/#avoir-lip-et-ladresse-mac-arp","text":"arp -a","title":"Avoir l'ip et l'adresse MAC (ARP)"},{"location":"Windows/Reseau/#tester-le-dns","text":"nslookup videotron.com","title":"Tester le DNS"}]}